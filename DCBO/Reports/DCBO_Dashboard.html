<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Docebo Inc. (DCBO) Financial Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #00d4aa, #00b894);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .header p {
            color: #888;
            font-size: 1.1rem;
        }

        /* Investment Overview Section */
        .overview-section {
            max-width: 1400px;
            margin: 0 auto 30px;
        }
        .overview-toggle {
            width: 100%;
            background: rgba(0, 212, 170, 0.1);
            border: 1px solid rgba(0, 212, 170, 0.3);
            border-radius: 12px;
            padding: 16px 24px;
            color: #00d4aa;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
        }
        .overview-toggle:hover {
            background: rgba(0, 212, 170, 0.2);
        }
        .overview-toggle .arrow {
            transition: transform 0.3s ease;
        }
        .overview-toggle.active .arrow {
            transform: rotate(180deg);
        }
        .overview-content {
            display: none;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-top: none;
            border-radius: 0 0 12px 12px;
            padding: 30px;
            margin-top: -12px;
        }
        .overview-content.active {
            display: block;
        }
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }
        .overview-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .overview-card h3 {
            color: #00d4aa;
            font-size: 1.1rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .overview-card p {
            margin-bottom: 12px;
            line-height: 1.6;
        }
        .overview-card ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .overview-card li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            line-height: 1.5;
        }
        .overview-card li:last-child {
            border-bottom: none;
        }
        .overview-card.bull h3 { color: #00d4aa; }
        .overview-card.bear h3 { color: #ff6b6b; }
        .overview-card.risks h3 { color: #fdcb6e; }
        .risk-high { color: #ff6b6b; }
        .risk-moderate { color: #fdcb6e; }
        .risk-low { color: #00d4aa; }
        .revenue-stream {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .revenue-stream .percent {
            color: #00d4aa;
            font-weight: 600;
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }
        .kpi-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 212, 170, 0.2);
        }
        .kpi-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #00d4aa;
            margin-bottom: 5px;
        }
        .kpi-label {
            font-size: 0.85rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .kpi-change {
            font-size: 0.9rem;
            margin-top: 5px;
        }
        .kpi-change.positive { color: #00d4aa; }
        .kpi-change.negative { color: #ff6b6b; }

        /* Guidance Section */
        .guidance-section {
            max-width: 1400px;
            margin: 0 auto 30px;
        }
        .guidance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .guidance-header h3 {
            color: #fff;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .guidance-header h3::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #00d4aa, #00b894);
            border-radius: 2px;
        }
        .guidance-meta {
            font-size: 0.85rem;
            color: #888;
        }
        .guidance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .guidance-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 18px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.2s ease;
        }
        .guidance-card:hover {
            transform: translateY(-2px);
        }
        .guidance-metric {
            font-size: 0.8rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }
        .guidance-target {
            font-size: 1.4rem;
            font-weight: 600;
            color: #00d4aa;
            margin-bottom: 6px;
        }
        .guidance-period {
            font-size: 0.85rem;
            color: #e0e0e0;
            margin-bottom: 8px;
        }
        .guidance-vs-prior {
            display: inline-block;
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 500;
        }
        .guidance-vs-prior.raised {
            background: rgba(0, 212, 170, 0.15);
            color: #00d4aa;
        }
        .guidance-vs-prior.lowered {
            background: rgba(255, 107, 107, 0.15);
            color: #ff6b6b;
        }
        .guidance-vs-prior.maintained {
            background: rgba(255, 255, 255, 0.1);
            color: #888;
        }
        .guidance-vs-prior.new {
            background: rgba(99, 102, 241, 0.15);
            color: #818cf8;
        }
        .guidance-notes {
            font-size: 0.8rem;
            color: #666;
            margin-top: 8px;
            line-height: 1.4;
        }
        .guidance-commentary {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 16px 20px;
            border-left: 3px solid #00d4aa;
            font-style: italic;
            color: #b0b0b0;
            line-height: 1.6;
        }
        .guidance-commentary::before {
            content: '"';
            font-size: 1.5rem;
            color: #00d4aa;
            margin-right: 4px;
        }

        .section-title {
            font-size: 1.5rem;
            color: #fff;
            margin: 40px auto 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(0, 212, 170, 0.3);
            max-width: 1400px;
        }
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            max-width: 1400px;
            margin: 0 auto;
        }
        .chart-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .chart-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .chart-header h3 {
            color: #fff;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .chart-header h3::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #00d4aa, #00b894);
            border-radius: 2px;
        }
        .help-btn {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(0, 212, 170, 0.2);
            border: 1px solid #00d4aa;
            color: #00d4aa;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        .help-btn:hover {
            background: #00d4aa;
            color: #1a1a2e;
        }
        .chart-wrapper {
            position: relative;
            height: 300px;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .modal-overlay.active { display: flex; }
        .modal {
            background: linear-gradient(135deg, #1e2a4a 0%, #16213e 100%);
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(0, 212, 170, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        .modal-header {
            padding: 20px 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-header h3 {
            color: #00d4aa;
            font-size: 1.4rem;
            margin: 0;
        }
        .modal-close {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 107, 107, 0.2);
            border: 1px solid #ff6b6b;
            color: #ff6b6b;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-close:hover {
            background: #ff6b6b;
            color: #fff;
        }
        .modal-body {
            padding: 25px;
            line-height: 1.7;
        }
        .modal-body p { margin-bottom: 15px; }
        .modal-body strong { color: #00d4aa; }
        .modal-body ul { margin: 15px 0; padding-left: 20px; }
        .modal-body li { margin-bottom: 8px; }
        .metric-highlight {
            background: rgba(0, 212, 170, 0.1);
            border-left: 3px solid #00d4aa;
            padding: 12px 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        /* DCF Valuation Section */
        .dcf-section {
            max-width: 1400px;
            margin: 0 auto 40px;
        }
        .dcf-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .dcf-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }
        .dcf-card:hover {
            transform: translateY(-3px);
        }
        .dcf-card.highlight {
            background: rgba(0, 212, 170, 0.1);
            border-color: rgba(0, 212, 170, 0.3);
        }
        .dcf-label {
            font-size: 0.85rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }
        .dcf-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #00d4aa;
        }
        .dcf-card:not(.highlight) .dcf-value {
            color: #fff;
        }
        .dcf-change {
            font-size: 1rem;
            margin-top: 8px;
            font-weight: 600;
        }
        .dcf-change.positive { color: #00d4aa; }
        .dcf-change.negative { color: #ff6b6b; }
        .dcf-sublabel {
            font-size: 0.8rem;
            color: #666;
            margin-top: 8px;
        }
        .dcf-warning {
            background: rgba(253, 203, 110, 0.15);
            border: 1px solid rgba(253, 203, 110, 0.4);
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #fdcb6e;
        }
        .warning-icon {
            font-size: 1.2rem;
        }

        /* DCF Inputs Display */
        .dcf-inputs {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .dcf-inputs h4 {
            color: #e0e0e0;
            margin-bottom: 15px;
            font-size: 1rem;
        }
        .dcf-inputs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .dcf-input-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .dcf-input-label {
            font-size: 0.75rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }
        .dcf-input-value {
            font-size: 1.3rem;
            font-weight: 600;
            color: #00d4aa;
        }
        .dcf-input-note {
            font-size: 0.7rem;
            color: #666;
            margin-top: 4px;
        }
        .fcf-projections h5 {
            color: #b0b0b0;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        .fcf-projection-table {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 12px;
        }
        .fcf-projection-item {
            text-align: center;
        }
        .fcf-projection-item.header {
            font-size: 0.75rem;
            color: #888;
            font-weight: 600;
        }
        .fcf-projection-item .year {
            font-size: 0.75rem;
            color: #888;
            margin-bottom: 2px;
        }
        .fcf-projection-item .fcf-value {
            font-size: 1rem;
            color: #e0e0e0;
            font-weight: 500;
        }
        .fcf-projection-item .growth-rate {
            font-size: 0.75rem;
            color: #00d4aa;
            margin-top: 2px;
        }

        .dcf-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .slider-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .slider-group label {
            font-size: 0.95rem;
            color: #e0e0e0;
            display: flex;
            justify-content: space-between;
        }
        .slider-group label span {
            color: #00d4aa;
            font-weight: 600;
        }
        .slider-group input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
        }
        .slider-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #00d4aa;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .slider-group input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        .slider-group input[type="range"]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #00d4aa;
            cursor: pointer;
            border: none;
        }
        .slider-hint {
            font-size: 0.8rem;
            color: #666;
        }

        .scenario-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .scenario-tab {
            padding: 10px 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: transparent;
            color: #888;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.2s;
        }
        .scenario-tab:hover {
            border-color: rgba(0, 212, 170, 0.5);
            color: #e0e0e0;
        }
        .scenario-tab.active {
            background: rgba(0, 212, 170, 0.15);
            border-color: #00d4aa;
            color: #00d4aa;
        }

        .scenario-details {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .scenario-details h4 {
            color: #00d4aa;
            margin-bottom: 15px;
        }
        .assumption-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        .assumption-item {
            text-align: center;
        }
        .assumption-item .label {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 4px;
        }
        .assumption-item .value {
            font-size: 1.1rem;
            color: #e0e0e0;
            font-weight: 500;
        }

        .sensitivity-section {
            margin-bottom: 30px;
        }
        .sensitivity-section h4 {
            color: #e0e0e0;
            margin-bottom: 15px;
        }
        .sensitivity-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            overflow: hidden;
        }
        .sensitivity-table th,
        .sensitivity-table td {
            padding: 12px 16px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .sensitivity-table th {
            background: rgba(0, 212, 170, 0.1);
            color: #00d4aa;
            font-weight: 600;
        }
        .sensitivity-table td {
            color: #e0e0e0;
        }
        .sensitivity-table td.highlight {
            background: rgba(0, 212, 170, 0.15);
            color: #00d4aa;
            font-weight: 600;
        }
        .sensitivity-table td.below-current {
            color: #ff6b6b;
        }
        .sensitivity-table td.above-current {
            color: #00d4aa;
        }

        .historical-growth {
            margin-bottom: 30px;
        }
        .historical-growth h4 {
            color: #e0e0e0;
            margin-bottom: 15px;
        }
        .growth-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }
        .growth-item {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .growth-item .metric {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 6px;
        }
        .growth-item .rate {
            font-size: 1.2rem;
            font-weight: 600;
        }
        .growth-item .rate.positive { color: #00d4aa; }
        .growth-item .rate.negative { color: #ff6b6b; }
        .growth-item.selected {
            border-color: #00d4aa;
            background: rgba(0, 212, 170, 0.1);
        }

        .dcf-download {
            text-align: center;
            margin-top: 30px;
        }
        .download-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 14px 28px;
            background: rgba(0, 212, 170, 0.15);
            border: 1px solid #00d4aa;
            border-radius: 8px;
            color: #00d4aa;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s;
        }
        .download-btn:hover {
            background: #00d4aa;
            color: #1a1a2e;
        }
        .download-icon {
            font-size: 1.2rem;
        }

        @media (max-width: 768px) {
            .charts-container { grid-template-columns: 1fr; }
            .overview-grid { grid-template-columns: 1fr; }
            .header h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Docebo Inc. (DCBO)</h1>
        <p>Cloud-Based Learning Management System (LMS) - SaaS Platform</p>
    </div>

    <!-- Investment Overview Section -->
    <div class="overview-section">
        <button class="overview-toggle" onclick="toggleOverview()">
            <span>Investment Overview & Analysis</span>
            <span class="arrow">▼</span>
        </button>
        <div class="overview-content" id="overviewContent">
            <div class="overview-grid">
                <!-- Company Overview -->
                <div class="overview-card">
                    <h3>Company Overview</h3>
                    <p>Docebo is a cloud-based Learning Management System (LMS) SaaS provider headquartered in Toronto, Canada, trading on both NASDAQ and TSX. The company provides an AI-powered learning platform serving 3,945+ customers globally across both Customer Experience (CX) and Employee Experience (EX) use cases.</p>
                </div>

                <!-- Business Model -->
                <div class="overview-card">
                    <h3>Business Model</h3>
                    <p>Subscription-based SaaS model with multi-year contracts and annual renewals providing high revenue visibility.</p>
                    <ul>
                        <li class="revenue-stream">
                            <span>Subscription Revenue</span>
                            <span class="percent">95%</span>
                        </li>
                        <li class="revenue-stream">
                            <span>Professional Services</span>
                            <span class="percent">5%</span>
                        </li>
                    </ul>
                    <p style="margin-top: 12px; font-size: 0.9rem;">Average Contract Value: $56,400 (Q1 2025), growing 7.4% YoY through land-and-expand strategy.</p>
                </div>

                <!-- Competitive Position -->
                <div class="overview-card">
                    <h3>Competitive Position</h3>
                    <p><strong>Market Share:</strong> 12.4% of global e-learning software market</p>
                    <p><strong>Competitors:</strong> Cornerstone (28.7%), SAP SuccessFactors (22.5%), Absorb LMS, TalentLMS, Microsoft/Google</p>
                    <p><strong>Key Moat:</strong></p>
                    <ul>
                        <li>AI-First Technology - Industry-leading AI capabilities (Harmony AI, AI Creator, AI Video Presenter)</li>
                        <li>Multi-Audience Platform - Unique dual CX/EX capabilities on single platform</li>
                        <li>FedRAMP Certification - $2.7B government market unlocked</li>
                    </ul>
                </div>

                <!-- Growth Drivers -->
                <div class="overview-card">
                    <h3>Growth Drivers</h3>
                    <ul>
                        <li><strong>LMS Market Growth:</strong> $28.9B (2025) to $188.1B (2035) at 20.6% CAGR</li>
                        <li><strong>AI Platform Leadership:</strong> Comprehensive AI capabilities differentiate from legacy competitors</li>
                        <li><strong>FedRAMP Government Market:</strong> $2.7B opportunity, revenue expected H2 2026</li>
                        <li><strong>International Expansion:</strong> APAC growing at 22.5% CAGR</li>
                        <li><strong>ACV Expansion:</strong> Land-and-expand driving 7-10% annual ACV growth</li>
                    </ul>
                </div>

                <!-- Key Risks -->
                <div class="overview-card risks">
                    <h3>Key Risks</h3>
                    <ul>
                        <li><span class="risk-high">HIGH:</span> Revenue growth deceleration (22% → 19.5% → 10-11%)</li>
                        <li><span class="risk-high">HIGH:</span> Customer concentration - AWS Skills Builder non-renewal, large customer churn</li>
                        <li><span class="risk-high">HIGH:</span> Intense competition from Cornerstone, SAP, Microsoft/Google bundling</li>
                        <li><span class="risk-high">HIGH:</span> Massive management turnover (CEO, CFO, CRO, CPO transitions)</li>
                        <li><span class="risk-moderate">MODERATE:</span> SMB/mid-market macro headwinds affecting core segments</li>
                        <li><span class="risk-moderate">MODERATE:</span> AI investment ROI uncertainty</li>
                    </ul>
                </div>

                <!-- Bull Case -->
                <div class="overview-card bull">
                    <h3>Bull Case</h3>
                    <ul>
                        <li><strong>AI Leadership Moat:</strong> Industry-leading AI capabilities create differentiation; competitors lack infrastructure to replicate</li>
                        <li><strong>FedRAMP Unlocks $2.7B Market:</strong> Government contracts with high retention and less competition</li>
                        <li><strong>Strong Secular Growth (20.6% CAGR):</strong> LMS market driven by hybrid work, upskilling, digital transformation</li>
                        <li><strong>Undervalued (Down 64%):</strong> Stock declined despite profitable, positive FCF business improving margins</li>
                        <li><strong>Operating Leverage:</strong> Adj EBITDA margin 7.4% → 15.1% → 17-18% target; FCF 15.7% of revenue</li>
                        <li><strong>Consolidation Opportunity:</strong> Top 5 hold <40% share; $50M credit facility for M&A</li>
                    </ul>
                </div>

                <!-- Bear Case -->
                <div class="overview-card bear">
                    <h3>Bear Case</h3>
                    <ul>
                        <li><strong>Severe Growth Deceleration:</strong> 22% → 10-11%; below market rate indicates share loss</li>
                        <li><strong>Customer Churn Pattern:</strong> AWS + enterprise customer losses show vulnerability to large account risk</li>
                        <li><strong>Deep-Pocketed Competition:</strong> Cornerstone (28.7%), SAP (22.5%), Microsoft/Google bundling at zero incremental cost</li>
                        <li><strong>Executive Exodus:</strong> Entire leadership team turning over during critical turnaround period</li>
                        <li><strong>Macro Headwinds on Core SMB/Mid-Market:</strong> Training budgets vulnerable in recession</li>
                        <li><strong>AI Investment Uncertainty:</strong> Heavy spend with unproven ROI; risk AI becomes table stakes vs. differentiator</li>
                        <li><strong>Working Capital Collapse:</strong> $110.9M → $14.3M (87% decline) raises quality concerns</li>
                    </ul>
                </div>

                <!-- Recent Developments -->
                <div class="overview-card">
                    <h3>Recent Developments</h3>
                    <ul>
                        <li><strong>2025-04:</strong> Docebo Inspire 2025 - AI-First Platform unveiled (AI Creator, AI Video Presenter, AI Virtual Coaching, Harmony AI)</li>
                        <li><strong>2025-Q1:</strong> AWS Skills Builder non-renewal (<2% ARR, Dec 2025); not competitive displacement</li>
                        <li><strong>2025-04:</strong> Major leadership changes: CFO, CMO hired; CRO departing July; CPO departing Q4</li>
                        <li><strong>2025-05:</strong> $50M credit facility + $50M accordion; NCIB renewed (1.48M shares)</li>
                        <li><strong>2025:</strong> FedRAMP Moderate Authorization achieved - $2.7B government market unlocked</li>
                        <li><strong>2024-2025:</strong> Stock down 64% from highs on growth concerns</li>
                    </ul>
                </div>

                <!-- Investment Thesis -->
                <div class="overview-card" style="grid-column: 1 / -1;">
                    <h3>Investment Recommendation: HOLD / WATCH</h3>
                    <p><strong>Target Price:</strong> $24.99 (probability-weighted) vs Current $40.00</p>
                    <p><strong>Thesis:</strong> Docebo faces significant growth deceleration headwinds (22% → 10-11%) with customer churn, intense competition, and management turnover creating execution risk. However, the company maintains strong SaaS fundamentals (80% gross margin, positive FCF, improving profitability) with potential catalysts in AI differentiation and FedRAMP government market expansion. Current valuation at $40 offers limited upside (-39% to fair value). Better entry point would be $28-32 range for asymmetric risk/reward.</p>
                    <p><strong>Key Metrics to Monitor:</strong> ARR growth stabilization >12%, Net Dollar Retention, ACV growth sustaining 7-10%, EBITDA margin expansion to 17-18%, FedRAMP contract wins (H2 2026)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- KPI Cards -->
    <div class="kpi-grid" id="kpiGrid"></div>

    <!-- Management Guidance -->
    <div class="guidance-section" id="guidanceSection">
        <div class="guidance-header">
            <h3>Management Guidance</h3>
            <span class="guidance-meta">As of <span id="guidanceAsOf">Q1 2025 Earnings</span> | <span id="guidanceFY">FY2025</span></span>
        </div>
        <div class="guidance-grid" id="guidanceGrid"></div>
        <div class="guidance-commentary" id="guidanceCommentary"></div>
    </div>

    <!-- Charts Section -->
    <h2 class="section-title">Key Financial Metrics</h2>

    <div class="charts-container">
        <div class="chart-card">
            <div class="chart-header">
                <h3>Annual Recurring Revenue (ARR) Growth</h3>
                <button class="help-btn" onclick="openModal('arr')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="arrChart"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <div class="chart-header">
                <h3>Revenue & Subscription Revenue</h3>
                <button class="help-btn" onclick="openModal('revenue')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="revenueChart"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <div class="chart-header">
                <h3>Gross Margin Trend</h3>
                <button class="help-btn" onclick="openModal('margin')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="marginChart"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <div class="chart-header">
                <h3>Customer Count Growth</h3>
                <button class="help-btn" onclick="openModal('customers')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="customersChart"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <div class="chart-header">
                <h3>Average Contract Value (ACV)</h3>
                <button class="help-btn" onclick="openModal('acv')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="acvChart"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <div class="chart-header">
                <h3>Free Cash Flow</h3>
                <button class="help-btn" onclick="openModal('fcf')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="fcfChart"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <div class="chart-header">
                <h3>Operating Income Trend</h3>
                <button class="help-btn" onclick="openModal('operating')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="operatingChart"></canvas>
            </div>
        </div>

        <div class="chart-card">
            <div class="chart-header">
                <h3>Profitability: Operating & Net Income</h3>
                <button class="help-btn" onclick="openModal('profitability')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="profitabilityChart"></canvas>
            </div>
        </div>
    </div>

    <!-- DCF Valuation Section -->
    <h2 class="section-title">DCF Valuation</h2>

    <div class="dcf-section">
        <!-- Valuation Summary Cards -->
        <div class="dcf-summary">
            <div class="dcf-card highlight">
                <div class="dcf-label">Intrinsic Value (Base)</div>
                <div class="dcf-value" id="dcfIV">$24</div>
                <div class="dcf-change negative" id="dcfUpside">-39% downside</div>
            </div>
            <div class="dcf-card">
                <div class="dcf-label">Entry Price (15% CAGR)</div>
                <div class="dcf-value" id="dcfEntry">$13</div>
                <div class="dcf-sublabel">Buy below for 15% annual return</div>
            </div>
            <div class="dcf-card">
                <div class="dcf-label">Current Price</div>
                <div class="dcf-value" id="dcfCurrent">$40</div>
            </div>
            <div class="dcf-card">
                <div class="dcf-label">Prob-Weighted IV</div>
                <div class="dcf-value" id="dcfWeighted">$25</div>
                <div class="dcf-sublabel">20% Bull / 60% Base / 20% Bear</div>
            </div>
        </div>

        <!-- Growth Rate Warning -->
        <div class="dcf-warning" id="growthWarning">
            <span class="warning-icon">&#9888;</span>
            <span id="warningText">FCF inflection point - transitioning from growth to profitability. Historical FCF CAGR not sustainable but margin expansion supports FCF growth above revenue growth.</span>
        </div>

        <!-- DCF Inputs Display -->
        <div class="dcf-inputs">
            <h4>DCF Model Inputs</h4>
            <div class="dcf-inputs-grid">
                <div class="dcf-input-card">
                    <div class="dcf-input-label">Base Year FCF</div>
                    <div class="dcf-input-value" id="baseFCF">$31.2M</div>
                    <div class="dcf-input-note">FY2024 actual</div>
                </div>
                <div class="dcf-input-card">
                    <div class="dcf-input-label">Shares Outstanding</div>
                    <div class="dcf-input-value" id="sharesOut">30.3M</div>
                </div>
                <div class="dcf-input-card">
                    <div class="dcf-input-label">Net Debt</div>
                    <div class="dcf-input-value" id="netDebt">-$91.9M</div>
                    <div class="dcf-input-note">Net cash position</div>
                </div>
            </div>
            <div class="fcf-projections">
                <h5>Projected FCF (5-Year)</h5>
                <div class="fcf-projection-table" id="fcfProjectionTable"></div>
            </div>
        </div>

        <!-- Interactive Sliders -->
        <div class="dcf-controls">
            <div class="slider-group">
                <label>FCF Growth Rate: <span id="growthValue">15%</span></label>
                <input type="range" id="growthSlider" min="0" max="30" value="15" step="1">
                <div class="slider-hint" id="growthHint">Blend of revenue + margin expansion</div>
            </div>
            <div class="slider-group">
                <label>WACC: <span id="waccValue">10.5%</span></label>
                <input type="range" id="waccSlider" min="6" max="18" value="10.5" step="0.5">
            </div>
            <div class="slider-group">
                <label>Terminal Growth: <span id="terminalValue">2.5%</span></label>
                <input type="range" id="terminalSlider" min="0" max="5" value="2.5" step="0.5">
            </div>
        </div>

        <!-- Scenario Tabs -->
        <div class="scenario-tabs">
            <button class="scenario-tab active" data-scenario="base" onclick="switchScenario('base')">Base Case</button>
            <button class="scenario-tab" data-scenario="bull" onclick="switchScenario('bull')">Bull Case</button>
            <button class="scenario-tab" data-scenario="bear" onclick="switchScenario('bear')">Bear Case</button>
        </div>

        <!-- Scenario Details -->
        <div class="scenario-details" id="scenarioDetails">
            <div class="scenario-assumptions">
                <h4>Assumptions</h4>
                <div class="assumption-grid" id="assumptionGrid"></div>
            </div>
        </div>

        <!-- Sensitivity Table -->
        <div class="sensitivity-section">
            <h4>Sensitivity Analysis: Intrinsic Value by WACC & Terminal Growth</h4>
            <table class="sensitivity-table" id="sensitivityMatrix"></table>
        </div>

        <!-- Historical Growth Rates -->
        <div class="historical-growth">
            <h4>Historical Growth Rates (CAGR)</h4>
            <div class="growth-grid" id="growthGrid"></div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle"></h3>
                <button class="modal-close" onclick="closeModal()">×</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script>
        // EMBEDDED CSV DATA
        const csvData = `Period,Revenue,SubscriptionRevenue,GrossProfit,GrossMargin,OperatingIncome,NetIncome,EPS,EPSDiluted,FreeCashFlow,ARR,Customers,ACV,ShareholdersEquity,TotalDebt,CashAndEquivalents,SharesOutstanding
Q1 2021,21.7,19.8,17.9,82.2,-5.6,-5.6,-0.17,-0.17,,,,197.3,,217.4,32781080
Q2 2021,25.6,23.6,20.5,79.9,-6.3,-7.2,-0.22,-0.22,-0.8,93.4,2485,37.6,,,,
H1 2021,47.4,43.4,38.4,81.0,-12.0,-12.8,-0.40,-0.40,-3.2,93.4,2485,37.6,,,,
Q3 2021,27.1,25.1,21.4,79.0,1.5,0.7,0.02,0.02,-1.0,103.5,2636,39.3,,,215.5,
9M 2021,74.4,68.5,59.7,80.3,-10.5,-12.1,-0.37,-0.37,-4.2,103.5,2636,39.3,,,,
Q1 2022,32.1,29.1,25.5,79.6,-5.7,-7.0,-0.21,-0.21,-2.4,,,,,,,
Q2 2022,34.9,31.9,28.0,80.0,2.1,2.1,0.06,0.06,1.0,138.2,3106,44.5,,,,
H1 2022,67.0,61.0,53.5,79.8,-4.8,-4.9,-0.14,-0.14,-1.4,138.2,3106,44.5,,,,
Q3 2022,37.0,34.3,29.8,80.7,9.0,10.3,0.31,0.31,0.6,144.6,3245,44.6,,,,
9M 2022,104.0,95.3,83.3,80.1,4.3,5.4,0.16,0.16,-0.5,144.6,3245,44.6,,,,
FY2022,143.6,129.3,114.2,79.5,-1.1,1.2,0.04,0.04,0.8,153.3,3395,45.2,,,,
Q1 2023,41.5,38.8,33.4,80.6,-0.4,1.2,0.04,0.04,-2.3,164.9,3506,47.0,,,,
Q2 2023,43.6,40.8,35.2,80.7,-7.5,-5.7,-0.17,-0.17,7.0,172.9,3591,48.1,,,,
H1 2023,85.1,79.7,68.6,80.6,-7.9,-4.4,-0.13,-0.13,4.8,172.9,3591,48.1,,,,
Q3 2023,46.5,43.6,37.7,81.1,3.1,4.0,0.12,0.12,8.4,181.8,3679,49.4,,,,
9M 2023,131.6,123.3,106.3,80.8,-4.8,-0.4,-0.01,-0.01,13.1,181.8,3679,49.4,,,,
FY2023,179.9,167.1,144.0,80.0,0.5,0.8,0.03,0.02,14.2,191.2,3769,50.7,50.7,,71.9,30305156
Q1 2024,51.4,47.9,41.5,80.7,4.2,5.2,0.17,0.17,9.2,201.2,3833,52.5,59.6,,80.6,30319606
Q2 2024,53.1,49.8,42.8,80.7,4.5,4.7,0.15,0.15,8.4,205.9,3898,52.8,42.5,,82.1,30350110
H1 2024,104.5,97.7,84.3,80.7,8.8,9.9,0.33,0.32,17.6,205.9,3898,52.8,42.5,,82.1,30334858
Q3 2024,55.4,52.6,45.0,81.1,4.7,5.0,0.16,0.16,4.5,214.1,3945,54.3,45.1,,82.0,30221380
9M 2024,159.9,150.3,129.2,80.8,13.5,14.8,0.49,0.48,22.2,214.1,3945,54.3,45.1,,82.0,30296756
FY2024,215.3,202.9,174.2,80.9,18.4,19.8,0.65,0.64,31.2,219.9,3980,55.2,52.4,,92.5,30255955
Q1 2025,57.3,54.2,45.9,80.1,1.7,1.5,0.05,0.05,9.0,225.1,,,52.4,,91.9,30263194`;

        // EMBEDDED ANALYSIS JSON
        const analysis = {
            "ticker": "DCBO",
            "company_name": "Docebo Inc.",
            "guidance": {
                "as_of": "Q1 2025 Earnings (May 9, 2025)",
                "fiscal_year": "FY2025",
                "items": [
                    {
                        "metric": "Subscription Revenue Growth",
                        "target": "10.0% to 11.0%",
                        "period": "FY2025",
                        "vs_prior": "lowered",
                        "notes": "Reduced from prior guidance due to AWS Skills Builder non-renewal, macro headwinds on SMB/lower mid-market, and large enterprise customer churn."
                    },
                    {
                        "metric": "Total Revenue Growth",
                        "target": "9.0% to 10.0%",
                        "period": "FY2025",
                        "vs_prior": "lowered",
                        "notes": "Down from 19.5% guidance for FY2024. Professional services expected to be down sequentially."
                    },
                    {
                        "metric": "Adjusted EBITDA Margin",
                        "target": "17.0% to 18.0%",
                        "period": "FY2025",
                        "vs_prior": "raised",
                        "notes": "Up from 15.5% for FY2024. Focus on profitability and operating leverage despite slower revenue growth."
                    },
                    {
                        "metric": "Total Revenue",
                        "target": "$59.0M to $59.2M",
                        "period": "Q2 2025",
                        "vs_prior": "n/a",
                        "notes": "Subscription revenue expected to grow 1.5 percentage points higher than total revenue."
                    },
                    {
                        "metric": "Adjusted EBITDA Margin",
                        "target": "14.5% to 15.0%",
                        "period": "Q2 2025",
                        "vs_prior": "n/a",
                        "notes": "Lower than Q1 2025 (15.6%) due to timing of expenses and investments."
                    }
                ],
                "management_commentary": "CEO emphasized continued investment in AI driving product capabilities and measurable efficiencies. Focus on executing strategic roadmap and deepening AI integrations across platform. CFO noted challenges from customer churn and macro headwinds but confidence in long-term positioning."
            }
        };

        // EMBEDDED DCF JSON
        const dcfData = {
            "ticker": "DCBO",
            "company_name": "Docebo Inc.",
            "current_price": 40.0,
            "currency": "USD",
            "units": "millions",
            "inputs": {
                "shares_outstanding": 30.263,
                "net_debt": -91.9,
                "last_fcf": 31.2,
                "last_fcf_year": "FY2024"
            },
            "historical_growth": {
                "revenue_1yr_growth": 19.7,
                "revenue_2yr_cagr": 19.7,
                "fcf_1yr_growth": 119.7,
                "fcf_2yr_cagr": 524.5,
                "selected_fcf_growth_rate": 15.0,
                "growth_rate_source": "blend_revenue_margin_expansion",
                "growth_divergence_warning": "FCF inflection point - transitioning from growth to profitability. Historical FCF CAGR not sustainable but margin expansion supports FCF growth above revenue growth."
            },
            "assumptions": {
                "base": {
                    "description": "Management guidance: 10-11% revenue growth, EBITDA margin 17-18%, FCF margin expands to 18%",
                    "fcf_growth_rates": [18.0, 16.0, 14.0, 12.0, 10.0],
                    "wacc": 10.5,
                    "terminal_growth": 2.5
                },
                "bull": {
                    "description": "AI differentiation + FedRAMP government wins + international expansion accelerates",
                    "fcf_growth_rates": [25.0, 22.0, 20.0, 18.0, 15.0],
                    "wacc": 9.5,
                    "terminal_growth": 3.0
                },
                "bear": {
                    "description": "Growth below market rate, customer churn, competitive pressure from bundled offerings",
                    "fcf_growth_rates": [10.0, 8.0, 7.0, 6.0, 5.0],
                    "wacc": 12.0,
                    "terminal_growth": 2.0
                }
            },
            "valuation": {
                "base": {
                    "intrinsic_value": 24.31,
                    "upside": -39.2
                },
                "bull": {
                    "intrinsic_value": 35.91,
                    "upside": -10.2
                },
                "bear": {
                    "intrinsic_value": 16.11,
                    "upside": -59.7
                }
            },
            "entry_price": {
                "base": {
                    "entry_price": 12.63,
                    "terminal_value_per_share": 25.39
                },
                "bull": {
                    "entry_price": 20.17,
                    "terminal_value_per_share": 40.57
                },
                "bear": {
                    "entry_price": 7.4,
                    "terminal_value_per_share": 14.88
                }
            },
            "sensitivity": {
                "wacc_range": [8.0, 9.0, 10.0, 10.5, 11.0, 12.0, 13.0, 14.0],
                "terminal_growth_range": [1.5, 2.0, 2.5, 3.0, 3.5],
                "matrix": [
                    [30.39, 32.25, 34.46, 37.11, 40.35],
                    [26.58, 27.92, 29.46, 31.26, 33.39],
                    [23.67, 24.67, 25.8, 27.09, 28.57],
                    [22.47, 23.33, 24.31, 25.42, 26.69],
                    [21.38, 22.15, 23.0, 23.96, 25.05],
                    [19.53, 20.13, 20.8, 21.53, 22.36],
                    [18.01, 18.49, 19.02, 19.59, 20.23],
                    [16.73, 17.12, 17.55, 18.01, 18.52]
                ]
            },
            "probability_weighted": {
                "weights": {"bull": 0.2, "base": 0.6, "bear": 0.2},
                "weighted_iv": 24.99
            }
        };

        // Parse CSV data
        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(',');
            return lines.slice(1).map(line => {
                const values = line.split(',');
                const obj = {};
                headers.forEach((h, i) => obj[h.trim()] = values[i]?.trim());
                return obj;
            });
        }

        const data = parseCSV(csvData);

        // Sort data chronologically (oldest first)
        data.sort((a, b) => {
            const parseDate = (p) => {
                const year = parseInt(p.match(/\d{4}/)?.[0] || '0');
                const isQ1 = p.includes('Q1');
                const isQ2 = p.includes('Q2');
                const isQ3 = p.includes('Q3');
                const isQ4 = p.includes('Q4');
                const isH1 = p.includes('H1');
                const isH2 = p.includes('H2');
                const is9M = p.includes('9M');
                const isFY = p.startsWith('FY');
                const subOrder = isQ1 ? 1 : isQ2 ? 2 : isH1 ? 3 : isQ3 ? 4 : is9M ? 5 : isQ4 ? 6 : isH2 ? 7 : isFY ? 8 : 0;
                return year * 10 + subOrder;
            };
            return parseDate(a.Period) - parseDate(b.Period);
        });

        // Filter for annual and quarterly data
        const fyData = data.filter(d => d.Period.startsWith('FY'));
        const quarterlyData = data.filter(d => d.Period.match(/^Q[1-4]/));

        // YoY calculation
        function calcYoYChange(current, previous) {
            if (!previous || !current || previous === '' || current === '') return null;
            return ((parseFloat(current) - parseFloat(previous)) / Math.abs(parseFloat(previous)) * 100).toFixed(1);
        }

        // Render KPI Cards
        function renderKPIs() {
            const latest = data[data.length - 1];
            const previousYear = data.find(d =>
                d.Period.startsWith('FY') &&
                parseInt(d.Period.match(/\d{4}/)?.[0] || 0) === parseInt(latest.Period.match(/\d{4}/)?.[0] || 0) - 1
            ) || data[data.length - 5];

            const kpis = [
                {
                    label: 'ARR',
                    value: latest.ARR ? '$' + parseFloat(latest.ARR).toFixed(1) + 'M' : 'N/A',
                    change: calcYoYChange(latest.ARR, previousYear?.ARR)
                },
                {
                    label: 'Revenue (Q1 2025)',
                    value: '$' + parseFloat(latest.Revenue).toFixed(1) + 'M',
                    change: calcYoYChange(latest.Revenue, data.find(d => d.Period === 'Q1 2024')?.Revenue)
                },
                {
                    label: 'Gross Margin',
                    value: parseFloat(latest.GrossMargin).toFixed(1) + '%',
                    change: null
                },
                {
                    label: 'Customers',
                    value: latest.Customers ? parseInt(latest.Customers).toLocaleString() : '3,980',
                    change: null
                },
                {
                    label: 'ACV',
                    value: latest.ACV ? '$' + parseFloat(latest.ACV).toFixed(1) + 'K' : '$56.4K',
                    change: null
                },
                {
                    label: 'Free Cash Flow',
                    value: latest.FreeCashFlow ? '$' + parseFloat(latest.FreeCashFlow).toFixed(1) + 'M' : 'N/A',
                    change: null
                },
                {
                    label: 'Operating Income',
                    value: '$' + parseFloat(latest.OperatingIncome).toFixed(1) + 'M',
                    change: null
                },
                {
                    label: 'Subscription %',
                    value: ((parseFloat(latest.SubscriptionRevenue) / parseFloat(latest.Revenue)) * 100).toFixed(0) + '%',
                    change: null
                }
            ];

            const grid = document.getElementById('kpiGrid');
            grid.innerHTML = kpis.map(kpi => `
                <div class="kpi-card">
                    <div class="kpi-value">${kpi.value}</div>
                    <div class="kpi-label">${kpi.label}</div>
                    ${kpi.change ? `<div class="kpi-change ${parseFloat(kpi.change) >= 0 ? 'positive' : 'negative'}">${parseFloat(kpi.change) >= 0 ? '+' : ''}${kpi.change}% YoY</div>` : ''}
                </div>
            `).join('');
        }

        // Render Guidance
        function renderGuidance() {
            if (!analysis.guidance) return;
            const guidance = analysis.guidance;

            document.getElementById('guidanceAsOf').textContent = guidance.as_of;
            document.getElementById('guidanceFY').textContent = guidance.fiscal_year;

            const grid = document.getElementById('guidanceGrid');
            grid.innerHTML = guidance.items.map(item => `
                <div class="guidance-card">
                    <div class="guidance-metric">${item.metric}</div>
                    <div class="guidance-target">${item.target}</div>
                    <div class="guidance-period">${item.period}</div>
                    <span class="guidance-vs-prior ${item.vs_prior}">${item.vs_prior === 'n/a' ? 'New' : item.vs_prior.charAt(0).toUpperCase() + item.vs_prior.slice(1)}</span>
                    ${item.notes ? `<div class="guidance-notes">${item.notes}</div>` : ''}
                </div>
            `).join('');

            const commentary = document.getElementById('guidanceCommentary');
            if (guidance.management_commentary) {
                commentary.textContent = guidance.management_commentary;
            }
        }

        // Chart defaults
        const chartDefaults = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { labels: { color: '#e0e0e0', font: { size: 11 } } }
            },
            scales: {
                x: { ticks: { color: '#888' }, grid: { color: 'rgba(255,255,255,0.05)' } },
                y: { ticks: { color: '#888' }, grid: { color: 'rgba(255,255,255,0.05)' } }
            }
        };

        const colors = {
            primary: '#00d4aa',
            secondary: '#00b894',
            tertiary: '#0984e3',
            quaternary: '#6c5ce7',
            warning: '#fdcb6e',
            danger: '#ff6b6b'
        };

        // ARR Chart (quarterly data where available)
        const arrData = data.filter(d => d.ARR && d.ARR !== '');
        new Chart(document.getElementById('arrChart'), {
            type: 'line',
            data: {
                labels: arrData.map(d => d.Period),
                datasets: [{
                    label: 'ARR ($M)',
                    data: arrData.map(d => parseFloat(d.ARR)),
                    borderColor: colors.primary,
                    backgroundColor: colors.primary + '20',
                    tension: 0.3,
                    fill: true
                }]
            },
            options: chartDefaults
        });

        // Revenue Chart (FY data)
        new Chart(document.getElementById('revenueChart'), {
            type: 'bar',
            data: {
                labels: fyData.map(d => d.Period),
                datasets: [
                    {
                        label: 'Total Revenue ($M)',
                        data: fyData.map(d => parseFloat(d.Revenue)),
                        backgroundColor: colors.primary + '80'
                    },
                    {
                        label: 'Subscription Revenue ($M)',
                        data: fyData.map(d => parseFloat(d.SubscriptionRevenue)),
                        backgroundColor: colors.secondary + '80'
                    }
                ]
            },
            options: chartDefaults
        });

        // Gross Margin Chart
        new Chart(document.getElementById('marginChart'), {
            type: 'line',
            data: {
                labels: fyData.map(d => d.Period),
                datasets: [{
                    label: 'Gross Margin (%)',
                    data: fyData.map(d => parseFloat(d.GrossMargin)),
                    borderColor: colors.tertiary,
                    backgroundColor: colors.tertiary + '20',
                    tension: 0.3,
                    fill: true
                }]
            },
            options: {
                ...chartDefaults,
                scales: {
                    ...chartDefaults.scales,
                    y: { ...chartDefaults.scales.y, min: 75, max: 85 }
                }
            }
        });

        // Customers Chart
        const customerData = data.filter(d => d.Customers && d.Customers !== '');
        new Chart(document.getElementById('customersChart'), {
            type: 'line',
            data: {
                labels: customerData.map(d => d.Period),
                datasets: [{
                    label: 'Customer Count',
                    data: customerData.map(d => parseInt(d.Customers)),
                    borderColor: colors.quaternary,
                    backgroundColor: colors.quaternary + '20',
                    tension: 0.3,
                    fill: true
                }]
            },
            options: chartDefaults
        });

        // ACV Chart
        const acvData = data.filter(d => d.ACV && d.ACV !== '');
        new Chart(document.getElementById('acvChart'), {
            type: 'line',
            data: {
                labels: acvData.map(d => d.Period),
                datasets: [{
                    label: 'ACV ($K)',
                    data: acvData.map(d => parseFloat(d.ACV)),
                    borderColor: colors.warning,
                    backgroundColor: colors.warning + '20',
                    tension: 0.3,
                    fill: true
                }]
            },
            options: chartDefaults
        });

        // FCF Chart
        const fcfData = data.filter(d => d.FreeCashFlow && d.FreeCashFlow !== '');
        new Chart(document.getElementById('fcfChart'), {
            type: 'bar',
            data: {
                labels: fcfData.map(d => d.Period),
                datasets: [{
                    label: 'Free Cash Flow ($M)',
                    data: fcfData.map(d => parseFloat(d.FreeCashFlow)),
                    backgroundColor: fcfData.map(d => parseFloat(d.FreeCashFlow) >= 0 ? colors.primary + '80' : colors.danger + '80')
                }]
            },
            options: chartDefaults
        });

        // Operating Income Chart
        new Chart(document.getElementById('operatingChart'), {
            type: 'line',
            data: {
                labels: fyData.map(d => d.Period),
                datasets: [{
                    label: 'Operating Income ($M)',
                    data: fyData.map(d => parseFloat(d.OperatingIncome)),
                    borderColor: colors.secondary,
                    backgroundColor: colors.secondary + '20',
                    tension: 0.3,
                    fill: true
                }]
            },
            options: chartDefaults
        });

        // Profitability Chart
        new Chart(document.getElementById('profitabilityChart'), {
            type: 'line',
            data: {
                labels: fyData.map(d => d.Period),
                datasets: [
                    {
                        label: 'Operating Income ($M)',
                        data: fyData.map(d => parseFloat(d.OperatingIncome)),
                        borderColor: colors.secondary,
                        tension: 0.3
                    },
                    {
                        label: 'Net Income ($M)',
                        data: fyData.map(d => parseFloat(d.NetIncome)),
                        borderColor: colors.tertiary,
                        tension: 0.3
                    }
                ]
            },
            options: chartDefaults
        });

        // Metric Descriptions
        const metricDescriptions = {
            arr: {
                title: "Annual Recurring Revenue (ARR)",
                content: `
                    <p><strong>ARR</strong> is the most important metric for SaaS companies like Docebo. It represents the annualized value of all active subscription contracts.</p>
                    <div class="metric-highlight">
                        <strong>For Docebo:</strong> ARR reached $225.1M in Q1 2025, but growth has decelerated significantly from 48% (2021) to 17.9% (2023) to 10.1% (Q3 2024 YoY). This slowdown is the primary concern for investors.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>ARR growth stabilization above 12% - below this suggests losing share in a 20%+ growth market</li>
                        <li>Large customer losses (AWS Skills Builder ending Dec 2025 represents <2% of ARR)</li>
                        <li>Net Dollar Retention rate (not disclosed but critical for SaaS health)</li>
                    </ul>
                `
            },
            revenue: {
                title: "Revenue & Subscription Revenue",
                content: `
                    <p><strong>Revenue</strong> for Docebo comes from two sources: subscription fees (95%) and professional services (5%).</p>
                    <div class="metric-highlight">
                        <strong>For Docebo:</strong> Total revenue grew 19.7% in FY2024 to $215.3M, but guidance for FY2025 is only 9-10% growth - a significant deceleration. Subscription revenue is more predictable and higher-margin than services.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Subscription revenue as % of total (should stay >90%)</li>
                        <li>Growth rate vs. LMS market growth (20.6% CAGR) - currently falling behind</li>
                        <li>Quarterly sequential subscription growth</li>
                    </ul>
                `
            },
            margin: {
                title: "Gross Margin",
                content: `
                    <p><strong>Gross Margin</strong> measures profitability after direct costs (cloud infrastructure, support, etc.). SaaS companies typically have 70-85% gross margins.</p>
                    <div class="metric-highlight">
                        <strong>For Docebo:</strong> Gross margin has been stable at 80-81%, which is healthy for a cloud LMS. This is in line with best-in-class SaaS companies and shows good unit economics.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Margin erosion from AI infrastructure costs (additional compute for AI features)</li>
                        <li>Should remain above 75% - any decline suggests pricing pressure or rising costs</li>
                        <li>Professional services drag on overall margin (lower margin than subscriptions)</li>
                    </ul>
                `
            },
            customers: {
                title: "Customer Count",
                content: `
                    <p><strong>Customer Count</strong> tracks total paying customers. For Docebo, this includes enterprise, mid-market, and SMB customers.</p>
                    <div class="metric-highlight">
                        <strong>For Docebo:</strong> Customer count grew from 2,485 (Q2 2021) to 3,980 (FY2024), representing 60% growth over ~3 years. However, growth has slowed recently with customer churn concerns (AWS Skills Builder, unnamed enterprise customer).
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Customer growth rate - should correlate with market expansion</li>
                        <li>Customer churn events - particularly large enterprise losses</li>
                        <li>SMB segment pressure from macro headwinds noted by management</li>
                    </ul>
                `
            },
            acv: {
                title: "Average Contract Value (ACV)",
                content: `
                    <p><strong>ACV</strong> measures the average annual revenue per customer contract. For SaaS, rising ACV indicates successful upselling and movement upmarket.</p>
                    <div class="metric-highlight">
                        <strong>For Docebo:</strong> ACV has grown steadily from $37.6K (Q2 2021) to $56.4K (Q1 2025), representing ~50% growth. This 7-10% annual ACV growth is driven by land-and-expand strategy, pricing increases, and upselling AI features.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>ACV growth sustaining at 7-10% annually through upsells and pricing power</li>
                        <li>Mix shift toward enterprise (higher ACV) vs. SMB (lower ACV)</li>
                        <li>Ability to monetize AI features through premium pricing</li>
                    </ul>
                `
            },
            fcf: {
                title: "Free Cash Flow",
                content: `
                    <p><strong>Free Cash Flow</strong> is cash from operations minus capital expenditures. It represents cash available for reinvestment, acquisitions, or shareholder returns.</p>
                    <div class="metric-highlight">
                        <strong>For Docebo:</strong> FCF inflected positive in 2023-2024 as the company focused on profitability. FY2024 FCF was $31.2M (14.5% of revenue), demonstrating strong cash generation. However, working capital declined sharply from $110.9M to $14.3M.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>FCF margin expansion toward 18-20% as operating leverage improves</li>
                        <li>FCF conversion rate (FCF / Net Income should be >100% for SaaS)</li>
                        <li>Working capital trends - recent decline is concerning</li>
                    </ul>
                `
            },
            operating: {
                title: "Operating Income",
                content: `
                    <p><strong>Operating Income</strong> measures profitability after all operating expenses (R&D, sales, marketing, G&A). It shows if the core business is profitable.</p>
                    <div class="metric-highlight">
                        <strong>For Docebo:</strong> Operating income turned positive in FY2023 ($0.5M) and improved to $18.4M in FY2024. The company is targeting 17-18% Adjusted EBITDA margins in FY2025, showing focus on profitability over growth.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Operating margin expansion while maintaining innovation investments</li>
                        <li>R&D spend as % of revenue (need to invest in AI to stay competitive)</li>
                        <li>Sales & marketing efficiency (should decline as % of revenue at scale)</li>
                    </ul>
                `
            },
            profitability: {
                title: "Operating & Net Income",
                content: `
                    <p><strong>Profitability</strong> tracks the company's bottom-line earnings. For growth SaaS companies, profitability often comes later as they prioritize growth.</p>
                    <div class="metric-highlight">
                        <strong>For Docebo:</strong> The company was unprofitable until 2022-2023, then turned profitable with net income of $19.8M in FY2024. The shift to profitability came as growth decelerated, suggesting trade-off between growth and profitability.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Rule of 40: Revenue Growth % + Profit Margin % should be >40%</li>
                        <li>Current: ~10% growth + ~9% net margin = 19% (below Rule of 40)</li>
                        <li>Ability to re-accelerate growth while maintaining profitability</li>
                    </ul>
                `
            }
        };

        // Modal functions
        function openModal(key) {
            document.getElementById('modalTitle').textContent = metricDescriptions[key].title;
            document.getElementById('modalBody').innerHTML = metricDescriptions[key].content;
            document.getElementById('modalOverlay').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        function closeModal(event) {
            if (event && event.target !== document.getElementById('modalOverlay') && event.target.className !== 'modal-close') return;
            document.getElementById('modalOverlay').classList.remove('active');
            document.body.style.overflow = '';
        }
        document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

        // Toggle overview
        function toggleOverview() {
            const btn = document.querySelector('.overview-toggle');
            const content = document.getElementById('overviewContent');
            btn.classList.toggle('active');
            content.classList.toggle('active');
        }

        // DCF FUNCTIONS
        let currentScenario = 'base';

        function initDCF() {
            if (!dcfData || !dcfData.valuation) return;

            document.getElementById('dcfCurrent').textContent = '$' + dcfData.current_price.toFixed(0);

            if (dcfData.historical_growth.growth_divergence_warning) {
                document.getElementById('growthWarning').style.display = 'flex';
                document.getElementById('warningText').textContent = dcfData.historical_growth.growth_divergence_warning;
            }

            const base = dcfData.assumptions.base;
            document.getElementById('growthSlider').value = dcfData.historical_growth.selected_fcf_growth_rate || 15;
            document.getElementById('waccSlider').value = base.wacc;
            document.getElementById('terminalSlider').value = base.terminal_growth;

            document.getElementById('growthValue').textContent = (dcfData.historical_growth.selected_fcf_growth_rate || 15) + '%';
            document.getElementById('waccValue').textContent = base.wacc + '%';
            document.getElementById('terminalValue').textContent = base.terminal_growth + '%';

            document.getElementById('growthHint').textContent = 'Blend of revenue + margin expansion';

            renderDCFInputs();
            renderHistoricalGrowth();
            renderSensitivityMatrix();
            updateDCFDisplay();
            switchScenario('base');
        }

        function renderDCFInputs() {
            const inputs = dcfData.inputs;
            document.getElementById('baseFCF').textContent = '$' + inputs.last_fcf.toFixed(1) + 'M';
            document.getElementById('sharesOut').textContent = inputs.shares_outstanding.toFixed(1) + 'M';

            const netDebtEl = document.getElementById('netDebt');
            netDebtEl.textContent = (inputs.net_debt < 0 ? '-$' : '$') + Math.abs(inputs.net_debt).toFixed(1) + 'M';
            if (inputs.net_debt < 0) netDebtEl.style.color = '#00d4aa';

            renderFCFProjections();
        }

        function renderFCFProjections() {
            const startGrowth = parseFloat(document.getElementById('growthSlider')?.value || dcfData.historical_growth.selected_fcf_growth_rate || 15);
            const baseFCF = dcfData.inputs.last_fcf;

            const endGrowth = 10;
            const growthRates = [];
            for (let i = 0; i < 5; i++) {
                const rate = startGrowth > endGrowth
                    ? startGrowth - (startGrowth - endGrowth) * (i / 4)
                    : startGrowth;
                growthRates.push(rate);
            }

            let fcf = baseFCF;
            const fcfValues = [baseFCF];

            for (let i = 0; i < 5; i++) {
                fcf = fcf * (1 + growthRates[i] / 100);
                fcfValues.push(fcf);
            }

            let html = `
                <div class="fcf-projection-item header">Base</div>
                <div class="fcf-projection-item header">Year 1</div>
                <div class="fcf-projection-item header">Year 2</div>
                <div class="fcf-projection-item header">Year 3</div>
                <div class="fcf-projection-item header">Year 4</div>
                <div class="fcf-projection-item header">Year 5</div>
            `;

            html += `<div class="fcf-projection-item">
                <div class="fcf-value">$${fcfValues[0].toFixed(0)}M</div>
                <div class="growth-rate">-</div>
            </div>`;

            for (let i = 1; i <= 5; i++) {
                html += `<div class="fcf-projection-item">
                    <div class="fcf-value">$${fcfValues[i].toFixed(0)}M</div>
                    <div class="growth-rate">+${growthRates[i-1].toFixed(0)}%</div>
                </div>`;
            }

            document.getElementById('fcfProjectionTable').innerHTML = html;
        }

        function calculateDCF(startGrowth, wacc, terminalGrowth) {
            const years = 5;
            const fcf = dcfData.inputs.last_fcf;
            let pvFCF = 0;
            let projectedFCF = fcf;

            const endGrowth = 10;

            for (let i = 0; i < years; i++) {
                const yearGrowth = startGrowth > endGrowth
                    ? startGrowth - (startGrowth - endGrowth) * (i / 4)
                    : startGrowth;
                projectedFCF *= (1 + yearGrowth / 100);
                pvFCF += projectedFCF / Math.pow(1 + wacc/100, i + 1);
            }

            const terminalFCF = projectedFCF * (1 + terminalGrowth/100);
            const terminalValue = terminalFCF / (wacc/100 - terminalGrowth/100);
            const pvTerminal = terminalValue / Math.pow(1 + wacc/100, years);

            const enterpriseValue = pvFCF + pvTerminal;
            const equityValue = enterpriseValue - dcfData.inputs.net_debt;
            const iv = equityValue / dcfData.inputs.shares_outstanding;

            const terminalPerShare = terminalValue / dcfData.inputs.shares_outstanding;
            const entryPrice = terminalPerShare / Math.pow(1.15, years);

            return { iv, entryPrice, terminalPerShare, pvFCF, pvTerminal, enterpriseValue };
        }

        window.updateDCFDisplay = function() {
            const growth = parseFloat(document.getElementById('growthSlider').value);
            const wacc = parseFloat(document.getElementById('waccSlider').value);
            const terminal = parseFloat(document.getElementById('terminalSlider').value);

            document.getElementById('growthValue').textContent = growth + '%';
            document.getElementById('waccValue').textContent = wacc + '%';
            document.getElementById('terminalValue').textContent = terminal + '%';

            renderFCFProjections();

            const result = calculateDCF(growth, wacc, terminal);

            document.getElementById('dcfIV').textContent = '$' + result.iv.toFixed(0);
            document.getElementById('dcfEntry').textContent = '$' + result.entryPrice.toFixed(0);

            const upside = ((result.iv - dcfData.current_price) / dcfData.current_price * 100);
            const upsideEl = document.getElementById('dcfUpside');
            upsideEl.textContent = (upside >= 0 ? '+' : '') + upside.toFixed(0) + '% ' + (upside >= 0 ? 'upside' : 'downside');
            upsideEl.className = 'dcf-change ' + (upside >= 0 ? 'positive' : 'negative');

            document.getElementById('dcfWeighted').textContent = '$' + dcfData.probability_weighted.weighted_iv.toFixed(0);

            const grid = document.getElementById('assumptionGrid');
            if (grid) {
                grid.innerHTML = `
                    <div class="assumption-item">
                        <div class="label">FCF Growth Rate</div>
                        <div class="value">${growth}%</div>
                    </div>
                    <div class="assumption-item">
                        <div class="label">WACC</div>
                        <div class="value">${wacc}%</div>
                    </div>
                    <div class="assumption-item">
                        <div class="label">Terminal Growth</div>
                        <div class="value">${terminal}%</div>
                    </div>
                    <div class="assumption-item">
                        <div class="label">Intrinsic Value</div>
                        <div class="value" style="color: #00d4aa;">$${result.iv.toFixed(0)}</div>
                    </div>
                    <div class="assumption-item">
                        <div class="label">Entry Price</div>
                        <div class="value" style="color: #00d4aa;">$${result.entryPrice.toFixed(0)}</div>
                    </div>
                `;
            }
        };

        window.switchScenario = function(scenario) {
            currentScenario = scenario;

            document.querySelectorAll('.scenario-tab').forEach(tab => {
                tab.classList.toggle('active', tab.dataset.scenario === scenario);
            });

            const assumptions = dcfData.assumptions[scenario];
            const valuation = dcfData.valuation[scenario];

            renderFCFProjections();

            document.getElementById('growthSlider').value = assumptions.fcf_growth_rates[0];
            document.getElementById('waccSlider').value = assumptions.wacc;
            document.getElementById('terminalSlider').value = assumptions.terminal_growth;

            const grid = document.getElementById('assumptionGrid');
            grid.innerHTML = `
                <div class="assumption-item">
                    <div class="label">Scenario</div>
                    <div class="value">${scenario.charAt(0).toUpperCase() + scenario.slice(1)}</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Year 1 FCF Growth</div>
                    <div class="value">${assumptions.fcf_growth_rates[0]}%</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Year 5 FCF Growth</div>
                    <div class="value">${assumptions.fcf_growth_rates[4]}%</div>
                </div>
                <div class="assumption-item">
                    <div class="label">WACC</div>
                    <div class="value">${assumptions.wacc}%</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Terminal Growth</div>
                    <div class="value">${assumptions.terminal_growth}%</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Intrinsic Value</div>
                    <div class="value" style="color: #00d4aa;">$${valuation.intrinsic_value.toFixed(0)}</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Description</div>
                    <div class="value" style="font-size: 0.85rem; color: #888;">${assumptions.description}</div>
                </div>
            `;

            updateDCFDisplay();
        };

        function renderHistoricalGrowth() {
            const growth = dcfData.historical_growth;
            const grid = document.getElementById('growthGrid');

            const metrics = [
                { key: 'revenue_1yr_growth', label: 'Revenue 1Y', value: growth.revenue_1yr_growth },
                { key: 'revenue_2yr_cagr', label: 'Revenue 2Y', value: growth.revenue_2yr_cagr },
                { key: 'fcf_1yr_growth', label: 'FCF 1Y', value: growth.fcf_1yr_growth },
                { key: 'fcf_2yr_cagr', label: 'FCF 2Y', value: growth.fcf_2yr_cagr }
            ];

            grid.innerHTML = metrics.map(m => {
                const rate = m.value;
                const colorClass = rate >= 0 ? 'positive' : 'negative';
                return `
                    <div class="growth-item">
                        <div class="metric">${m.label}</div>
                        <div class="rate ${colorClass}">${rate >= 0 ? '+' : ''}${rate.toFixed(1)}%</div>
                    </div>
                `;
            }).join('');
        }

        function renderSensitivityMatrix() {
            const sens = dcfData.sensitivity;
            const table = document.getElementById('sensitivityMatrix');
            const currentPrice = dcfData.current_price;

            let html = '<tr><th>WACC \\ Term G</th>';
            sens.terminal_growth_range.forEach(tg => {
                html += `<th>${tg}%</th>`;
            });
            html += '</tr>';

            sens.wacc_range.forEach((wacc, i) => {
                html += `<tr><th>${wacc}%</th>`;
                sens.matrix[i].forEach((val, j) => {
                    const isHighlight = wacc === dcfData.assumptions.base.wacc &&
                                       sens.terminal_growth_range[j] === dcfData.assumptions.base.terminal_growth;
                    const colorClass = val >= currentPrice ? 'above-current' : 'below-current';
                    html += `<td class="${isHighlight ? 'highlight' : colorClass}">$${val.toFixed(0)}</td>`;
                });
                html += '</tr>';
            });

            table.innerHTML = html;
        }

        // Initialize everything
        renderKPIs();
        renderGuidance();
        initDCF();

        // Bind slider events
        document.getElementById('growthSlider').oninput = updateDCFDisplay;
        document.getElementById('waccSlider').oninput = updateDCFDisplay;
        document.getElementById('terminalSlider').oninput = updateDCFDisplay;
    </script>
</body>
</html>