<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alibaba Group (BABA) Financial Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #ff6a00, #ee0a24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .header p {
            color: #888;
            font-size: 1.1rem;
        }
        .header-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        .header-meta-item {
            font-size: 0.9rem;
        }
        .header-meta-item strong {
            color: #ff6a00;
        }

        /* Investment Overview Section */
        .overview-section {
            max-width: 1400px;
            margin: 0 auto 30px;
        }
        .overview-toggle {
            width: 100%;
            background: rgba(255, 106, 0, 0.1);
            border: 1px solid rgba(255, 106, 0, 0.3);
            border-radius: 12px;
            padding: 16px 24px;
            color: #ff6a00;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
        }
        .overview-toggle:hover {
            background: rgba(255, 106, 0, 0.2);
        }
        .overview-toggle .arrow {
            transition: transform 0.3s ease;
        }
        .overview-toggle.active .arrow {
            transform: rotate(180deg);
        }
        .overview-content {
            display: none;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-top: none;
            border-radius: 0 0 12px 12px;
            padding: 30px;
            margin-top: -12px;
        }
        .overview-content.active {
            display: block;
        }
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }
        .overview-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .overview-card h3 {
            color: #ff6a00;
            font-size: 1.1rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .overview-card p {
            margin-bottom: 12px;
            line-height: 1.6;
        }
        .overview-card ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .overview-card li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            line-height: 1.5;
        }
        .overview-card li:last-child {
            border-bottom: none;
        }
        .overview-card.bull h3 { color: #00d4aa; }
        .overview-card.bear h3 { color: #ff6b6b; }
        .overview-card.risks h3 { color: #fdcb6e; }
        .risk-high { color: #ff6b6b; font-weight: 600; }
        .risk-moderate { color: #fdcb6e; font-weight: 600; }
        .risk-low { color: #00d4aa; font-weight: 600; }
        .revenue-stream {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .revenue-stream .percent {
            color: #ff6a00;
            font-weight: 600;
        }
        .trend-growing { color: #00d4aa; }
        .trend-stable { color: #888; }
        .trend-declining { color: #ff6b6b; }

        /* KPI Cards */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }
        .kpi-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 106, 0, 0.2);
        }
        .kpi-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ff6a00;
            margin-bottom: 5px;
        }
        .kpi-label {
            font-size: 0.85rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .kpi-change {
            font-size: 0.9rem;
            margin-top: 5px;
        }
        .kpi-change.positive { color: #00d4aa; }
        .kpi-change.negative { color: #ff6b6b; }

        /* Guidance Section */
        .guidance-section {
            max-width: 1400px;
            margin: 0 auto 30px;
        }
        .guidance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .guidance-header h3 {
            color: #fff;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .guidance-header h3::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #ff6a00, #ee0a24);
            border-radius: 2px;
        }
        .guidance-meta {
            font-size: 0.85rem;
            color: #888;
        }
        .guidance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .guidance-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 18px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.2s ease;
        }
        .guidance-card:hover {
            transform: translateY(-2px);
        }
        .guidance-metric {
            font-size: 0.8rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }
        .guidance-target {
            font-size: 1.4rem;
            font-weight: 600;
            color: #ff6a00;
            margin-bottom: 6px;
        }
        .guidance-period {
            font-size: 0.85rem;
            color: #e0e0e0;
            margin-bottom: 8px;
        }
        .guidance-vs-prior {
            display: inline-block;
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: 500;
        }
        .guidance-vs-prior.raised {
            background: rgba(0, 212, 170, 0.15);
            color: #00d4aa;
        }
        .guidance-vs-prior.lowered, .guidance-vs-prior.declining {
            background: rgba(255, 107, 107, 0.15);
            color: #ff6b6b;
        }
        .guidance-vs-prior.maintained {
            background: rgba(255, 255, 255, 0.1);
            color: #888;
        }
        .guidance-vs-prior.new {
            background: rgba(99, 102, 241, 0.15);
            color: #818cf8;
        }
        .guidance-vs-prior.accelerating, .guidance-vs-prior.improved {
            background: rgba(0, 212, 170, 0.15);
            color: #00d4aa;
        }
        .guidance-vs-prior.increased {
            background: rgba(255, 107, 107, 0.15);
            color: #ff6b6b;
        }
        .guidance-notes {
            font-size: 0.8rem;
            color: #666;
            margin-top: 8px;
            line-height: 1.4;
        }
        .guidance-commentary {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 16px 20px;
            border-left: 3px solid #ff6a00;
            font-style: italic;
            color: #b0b0b0;
            line-height: 1.6;
        }
        .guidance-commentary::before {
            content: '"';
            font-size: 1.5rem;
            color: #ff6a00;
            margin-right: 4px;
        }

        /* Section Titles */
        .section-title {
            font-size: 1.5rem;
            color: #fff;
            margin: 40px auto 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255, 106, 0, 0.3);
            max-width: 1400px;
        }

        /* Charts */
        .charts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            max-width: 1400px;
            margin: 0 auto;
        }
        .chart-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .chart-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .chart-header h3 {
            color: #fff;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .chart-header h3::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #ff6a00, #ee0a24);
            border-radius: 2px;
        }
        .help-btn {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(255, 106, 0, 0.2);
            border: 1px solid #ff6a00;
            color: #ff6a00;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        .help-btn:hover {
            background: #ff6a00;
            color: #1a1a2e;
        }
        .chart-wrapper {
            position: relative;
            height: 300px;
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .modal-overlay.active { display: flex; }
        .modal {
            background: linear-gradient(135deg, #1e2a4a 0%, #16213e 100%);
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 106, 0, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        .modal-header {
            padding: 20px 25px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-header h3 {
            color: #ff6a00;
            font-size: 1.4rem;
            margin: 0;
        }
        .modal-close {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 107, 107, 0.2);
            border: 1px solid #ff6b6b;
            color: #ff6b6b;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-close:hover {
            background: #ff6b6b;
            color: #fff;
        }
        .modal-body {
            padding: 25px;
            line-height: 1.7;
        }
        .modal-body p { margin-bottom: 15px; }
        .modal-body strong { color: #ff6a00; }
        .modal-body ul { margin: 15px 0; padding-left: 20px; }
        .modal-body li { margin-bottom: 8px; }
        .metric-highlight {
            background: rgba(255, 106, 0, 0.1);
            border-left: 3px solid #ff6a00;
            padding: 12px 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        /* DCF Valuation Section */
        .dcf-section {
            max-width: 1400px;
            margin: 0 auto 40px;
        }
        .dcf-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .dcf-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }
        .dcf-card:hover {
            transform: translateY(-3px);
        }
        .dcf-card.highlight {
            background: rgba(255, 106, 0, 0.1);
            border-color: rgba(255, 106, 0, 0.3);
        }
        .dcf-label {
            font-size: 0.85rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }
        .dcf-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: #ff6a00;
        }
        .dcf-card:not(.highlight) .dcf-value {
            color: #fff;
        }
        .dcf-change {
            font-size: 1rem;
            margin-top: 8px;
            font-weight: 600;
        }
        .dcf-change.positive { color: #00d4aa; }
        .dcf-change.negative { color: #ff6b6b; }
        .dcf-sublabel {
            font-size: 0.8rem;
            color: #666;
            margin-top: 8px;
        }
        .dcf-warning {
            background: rgba(253, 203, 110, 0.15);
            border: 1px solid rgba(253, 203, 110, 0.4);
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #fdcb6e;
        }
        .warning-icon {
            font-size: 1.2rem;
        }
        .dcf-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .slider-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .slider-group label {
            font-size: 0.95rem;
            color: #e0e0e0;
            display: flex;
            justify-content: space-between;
        }
        .slider-group label span {
            color: #ff6a00;
            font-weight: 600;
        }
        .slider-group input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
        }
        .slider-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #ff6a00;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .slider-group input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        .slider-group input[type="range"]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #ff6a00;
            cursor: pointer;
            border: none;
        }
        .slider-hint {
            font-size: 0.8rem;
            color: #666;
        }
        .scenario-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .scenario-tab {
            padding: 10px 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: transparent;
            color: #888;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.2s;
        }
        .scenario-tab:hover {
            border-color: rgba(255, 106, 0, 0.5);
            color: #e0e0e0;
        }
        .scenario-tab.active {
            background: rgba(255, 106, 0, 0.15);
            border-color: #ff6a00;
            color: #ff6a00;
        }
        .scenario-details {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .scenario-details h4 {
            color: #ff6a00;
            margin-bottom: 15px;
        }
        .assumption-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        .assumption-item {
            text-align: center;
        }
        .assumption-item .label {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 4px;
        }
        .assumption-item .value {
            font-size: 1.1rem;
            color: #e0e0e0;
            font-weight: 500;
        }
        .sensitivity-section {
            margin-bottom: 30px;
        }
        .sensitivity-section h4 {
            color: #e0e0e0;
            margin-bottom: 15px;
        }
        .sensitivity-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            overflow: hidden;
        }
        .sensitivity-table th,
        .sensitivity-table td {
            padding: 12px 16px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .sensitivity-table th {
            background: rgba(255, 106, 0, 0.1);
            color: #ff6a00;
            font-weight: 600;
        }
        .sensitivity-table td {
            color: #e0e0e0;
        }
        .sensitivity-table td.highlight {
            background: rgba(255, 106, 0, 0.15);
            color: #ff6a00;
            font-weight: 600;
        }
        .sensitivity-table td.below-current {
            color: #ff6b6b;
        }
        .sensitivity-table td.above-current {
            color: #00d4aa;
        }
        .historical-growth {
            margin-bottom: 30px;
        }
        .historical-growth h4 {
            color: #e0e0e0;
            margin-bottom: 15px;
        }
        .growth-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }
        .growth-item {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .growth-item .metric {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 6px;
        }
        .growth-item .rate {
            font-size: 1.2rem;
            font-weight: 600;
        }
        .growth-item .rate.positive { color: #00d4aa; }
        .growth-item .rate.negative { color: #ff6b6b; }
        .growth-item.selected {
            border-color: #ff6a00;
            background: rgba(255, 106, 0, 0.1);
        }
        .dcf-download {
            text-align: center;
            margin-top: 30px;
        }
        .download-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 14px 28px;
            background: rgba(255, 106, 0, 0.15);
            border: 1px solid #ff6a00;
            border-radius: 8px;
            color: #ff6a00;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s;
        }
        .download-btn:hover {
            background: #ff6a00;
            color: #1a1a2e;
        }
        .download-icon {
            font-size: 1.2rem;
        }

        @media (max-width: 768px) {
            .charts-container { grid-template-columns: 1fr; }
            .overview-grid { grid-template-columns: 1fr; }
            .header h1 { font-size: 1.8rem; }
            .header-meta { flex-direction: column; gap: 10px; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Alibaba Group Holding Limited (BABA)</h1>
        <p>China's Largest E-commerce & Cloud Platform | "User First, AI-Driven" Strategy</p>
        <div class="header-meta">
            <div class="header-meta-item"><strong>Current Price:</strong> $88.00 USD</div>
            <div class="header-meta-item"><strong>Fiscal Year:</strong> Ends March 31</div>
            <div class="header-meta-item"><strong>Last Updated:</strong> January 21, 2026</div>
        </div>
    </div>

    <!-- Investment Overview Section -->
    <div class="overview-section">
        <button class="overview-toggle" onclick="toggleOverview()">
            <span>Investment Overview & Analysis</span>
            <span class="arrow">▼</span>
        </button>
        <div class="overview-content" id="overviewContent">
            <div class="overview-grid">
                <!-- Company Overview -->
                <div class="overview-card">
                    <h3>Company Overview</h3>
                    <p>Alibaba Group is China's largest e-commerce company and the world's fourth-largest cloud infrastructure provider, operating under a "user first, AI-driven" strategy. The company has two core businesses: e-commerce (including Taobao, Tmall, AliExpress, Lazada, Trendyol) representing the largest retail commerce business globally by GMV, and Cloud Intelligence Group (Alibaba Cloud), which is Asia Pacific's largest IaaS provider.</p>
                    <p>In fiscal 2025, Alibaba underwent significant restructuring, divesting non-core assets like Sun Art and Intime to focus on e-commerce and AI + Cloud as twin growth engines.</p>
                </div>

                <!-- Business Model -->
                <div class="overview-card">
                    <h3>Business Model & Revenue Streams</h3>
                    <p><strong>Model:</strong> Diversified platform ecosystem monetizing 1.1 billion+ users through advertising, commissions, cloud services, and value-added merchant services.</p>
                    <ul>
                        <li class="revenue-stream">
                            <span>Taobao & Tmall (China E-commerce)</span>
                            <span class="percent">40%</span>
                        </li>
                        <li class="revenue-stream">
                            <span>Cloud Intelligence Group</span>
                            <span class="percent">13%</span>
                        </li>
                        <li class="revenue-stream">
                            <span>International Commerce (AIDC)</span>
                            <span class="percent">12%</span>
                        </li>
                        <li class="revenue-stream">
                            <span>Cainiao Logistics</span>
                            <span class="percent">8%</span>
                        </li>
                        <li class="revenue-stream">
                            <span>Local Services (Ele.me, Amap)</span>
                            <span class="percent">5%</span>
                        </li>
                        <li class="revenue-stream">
                            <span>All Others</span>
                            <span class="percent">22%</span>
                        </li>
                    </ul>
                </div>

                <!-- Competitive Position -->
                <div class="overview-card">
                    <h3>Competitive Position</h3>
                    <p><strong>Market Position:</strong> China's leading comprehensive e-commerce platform with 41-46% market share, though facing intense competition from Pinduoduo and JD. Alibaba Cloud holds 35.8% of China's AI cloud market (largest) and is Asia Pacific's largest IaaS provider but ranks 4th globally.</p>
                    <p><strong>Main Competitors:</strong> Pinduoduo (PDD), JD.com, Meituan, Douyin, AWS, Azure, Google Cloud, Tencent Cloud</p>
                    <p><strong>Key Moat Factors:</strong></p>
                    <ul>
                        <li><strong>Network effects:</strong> 1.1B+ consumers and millions of merchants create powerful two-sided platform</li>
                        <li><strong>Scale advantages:</strong> World's largest retail commerce by GMV</li>
                        <li><strong>AI capabilities:</strong> Qwen AI (200+ models, 300M+ downloads)</li>
                        <li><strong>Brand recognition:</strong> Taobao and Tmall household names in China</li>
                    </ul>
                </div>

                <!-- Growth Drivers -->
                <div class="overview-card">
                    <h3>Growth Drivers</h3>
                    <ul>
                        <li><strong class="trend-growing">AI + Cloud "second growth curve":</strong> Triple-digit AI revenue growth for 8 consecutive quarters, now 20%+ of external cloud revenue</li>
                        <li><strong class="trend-growing">International expansion:</strong> AIDC growing 10-14% annually with improving unit economics</li>
                        <li><strong class="trend-growing">Quick commerce buildout:</strong> 300M monthly users with improving unit economics</li>
                        <li><strong>Open-source AI ecosystem:</strong> Qwen model family with 300M+ downloads driving cloud adoption</li>
                        <li><strong>China consumption recovery:</strong> 88VIP premium membership growing double-digits</li>
                        <li><strong>Massive infrastructure investment:</strong> $53B+ committed over 3 years for AI/cloud</li>
                    </ul>
                </div>

                <!-- Key Risks -->
                <div class="overview-card risks">
                    <h3>Key Risks</h3>
                    <ul>
                        <li><span class="risk-high">HIGH:</span> E-commerce margin collapse from quick commerce subsidies and price wars</li>
                        <li><span class="risk-high">HIGH:</span> Execution risk balancing $53B+ AI capex with defending e-commerce margins</li>
                        <li><span class="risk-high">HIGH:</span> Chinese government regulatory actions and platform economy restrictions</li>
                        <li><span class="risk-high">HIGH:</span> US-China geopolitical tensions and potential ADR delisting (66% probability per Goldman Sachs)</li>
                        <li><span class="risk-high">HIGH:</span> China economic slowdown and consumer weakness</li>
                        <li><span class="risk-high">HIGH:</span> Heavy capex requirements impacting free cash flow</li>
                        <li><span class="risk-moderate">MODERATE:</span> Cloud competitive intensity from AWS, Azure, Google globally</li>
                        <li><span class="risk-moderate">MODERATE:</span> VIE structure legal uncertainties</li>
                    </ul>
                </div>

                <!-- Bull Case -->
                <div class="overview-card bull">
                    <h3>Bull Case</h3>
                    <ul>
                        <li>AI + Cloud 'second growth curve' materializing: 34% cloud growth, triple-digit AI product growth</li>
                        <li>Deeply undervalued: 17.7x FY2027 consensus earnings despite 50% expected EPS growth</li>
                        <li>Massive shareholder returns: $11.9B buybacks + $4.6B dividends in FY2025 with $19.1B remaining authorization</li>
                        <li>International commerce reaching profitability inflection (first profit in Q2 FY2026)</li>
                        <li>Regulatory overhang diminishing, sentiment improving (stock rallied 75% in 2025)</li>
                        <li>Network effects and ecosystem moat remain intact with 1.1B+ consumers</li>
                    </ul>
                </div>

                <!-- Bear Case -->
                <div class="overview-card bear">
                    <h3>Bear Case</h3>
                    <ul>
                        <li>E-commerce margin collapse may be structural: China e-commerce EBITA down 47-76% in recent quarters</li>
                        <li>AI + Cloud investment thesis unproven: $53B+ capex could balloon, commoditization risk</li>
                        <li>Geopolitical risks severely underpriced: 66% delisting probability, VIE structure uncertainties</li>
                        <li>China macro deterioration: weak consumer spending, property crisis, deflationary pressures</li>
                        <li>Execution risks with new management and strategic pivots (cloud spinoff cancellation, AI pivot)</li>
                        <li>Competitive position eroding: market share losses to Pinduoduo, Douyin, Meituan</li>
                        <li>Valuation not as cheap as appears: Non-GAAP EPS fell 71% YoY in Q2 FY2026</li>
                    </ul>
                </div>

                <!-- Recent Developments -->
                <div class="overview-card">
                    <h3>Recent Developments</h3>
                    <ul>
                        <li><strong>Nov 2025:</strong> Q2 FY2026 - Cloud revenue surged 34% YoY, AI revenue triple-digits for 8th consecutive quarter</li>
                        <li><strong>Jan 2025:</strong> Sun Art and Intime divestitures completed for $1.58B (unlocked $3B+ capital)</li>
                        <li><strong>Sep 2025:</strong> Apsara Conference - Ranked #1 in China's AI cloud market (35.8% share)</li>
                        <li><strong>FY2025:</strong> $11.9B share buybacks (5.1% reduction) + $4.6B dividends</li>
                        <li><strong>2025:</strong> US-China delisting concerns resurface, lawmakers urge SEC action</li>
                        <li><strong>Q2-Q3 FY2026:</strong> Quick commerce rapid expansion - 300M monthly users with improving unit economics</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- KPI Cards -->
    <div class="kpi-grid" id="kpiGrid"></div>

    <!-- Management Guidance Section -->
    <div class="guidance-section" id="guidanceSection">
        <div class="guidance-header">
            <h3>Management Guidance</h3>
            <span class="guidance-meta">As of <span id="guidanceAsOf">Q2 FY2026 Results (November 2025)</span> | <span id="guidanceFY">FY2026 (ending March 2026)</span></span>
        </div>
        <div class="guidance-grid" id="guidanceGrid"></div>
        <div class="guidance-commentary" id="guidanceCommentary"></div>
    </div>

    <!-- Charts Sections -->
    <h2 class="section-title">Financial Performance</h2>
    <div class="charts-container">
        <div class="chart-card">
            <div class="chart-header">
                <h3>Revenue Trend (Annual)</h3>
                <button class="help-btn" onclick="openModal('revenue')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="revenueChart"></canvas>
            </div>
        </div>
        <div class="chart-card">
            <div class="chart-header">
                <h3>Net Income & Operating Income</h3>
                <button class="help-btn" onclick="openModal('profitability')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="profitabilityChart"></canvas>
            </div>
        </div>
        <div class="chart-card">
            <div class="chart-header">
                <h3>Free Cash Flow</h3>
                <button class="help-btn" onclick="openModal('fcf')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="fcfChart"></canvas>
            </div>
        </div>
        <div class="chart-card">
            <div class="chart-header">
                <h3>EPS (Diluted ADS) in USD</h3>
                <button class="help-btn" onclick="openModal('eps')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="epsChart"></canvas>
            </div>
        </div>
    </div>

    <h2 class="section-title">Segment Performance</h2>
    <div class="charts-container">
        <div class="chart-card">
            <div class="chart-header">
                <h3>Segment Revenue (FY2025)</h3>
                <button class="help-btn" onclick="openModal('segments')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="segmentChart"></canvas>
            </div>
        </div>
        <div class="chart-card">
            <div class="chart-header">
                <h3>Cloud Revenue Growth</h3>
                <button class="help-btn" onclick="openModal('cloud')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="cloudChart"></canvas>
            </div>
        </div>
        <div class="chart-card">
            <div class="chart-header">
                <h3>Taobao & Tmall Revenue</h3>
                <button class="help-btn" onclick="openModal('taobao')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="taobaoChart"></canvas>
            </div>
        </div>
        <div class="chart-card">
            <div class="chart-header">
                <h3>International Commerce (AIDC)</h3>
                <button class="help-btn" onclick="openModal('international')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="internationalChart"></canvas>
            </div>
        </div>
    </div>

    <h2 class="section-title">Margins & Profitability</h2>
    <div class="charts-container">
        <div class="chart-card">
            <div class="chart-header">
                <h3>Gross Margin Trend</h3>
                <button class="help-btn" onclick="openModal('margin')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="marginChart"></canvas>
            </div>
        </div>
        <div class="chart-card">
            <div class="chart-header">
                <h3>Adjusted EBITA</h3>
                <button class="help-btn" onclick="openModal('ebita')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="ebitaChart"></canvas>
            </div>
        </div>
    </div>

    <h2 class="section-title">Quarterly Trends</h2>
    <div class="charts-container">
        <div class="chart-card">
            <div class="chart-header">
                <h3>Quarterly Revenue</h3>
                <button class="help-btn" onclick="openModal('quarterly')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="quarterlyRevenueChart"></canvas>
            </div>
        </div>
        <div class="chart-card">
            <div class="chart-header">
                <h3>Quarterly EPS (USD)</h3>
                <button class="help-btn" onclick="openModal('qeps')">?</button>
            </div>
            <div class="chart-wrapper">
                <canvas id="quarterlyEpsChart"></canvas>
            </div>
        </div>
    </div>

    <!-- DCF Valuation Section -->
    <h2 class="section-title">DCF Valuation</h2>
    <div class="dcf-section">
        <!-- Valuation Summary Cards -->
        <div class="dcf-summary">
            <div class="dcf-card highlight">
                <div class="dcf-label">Intrinsic Value (Base)</div>
                <div class="dcf-value" id="dcfIV">$106.73</div>
                <div class="dcf-change positive" id="dcfUpside">+21% upside</div>
            </div>
            <div class="dcf-card">
                <div class="dcf-label">Entry Price (15% CAGR)</div>
                <div class="dcf-value" id="dcfEntry">$54.70</div>
                <div class="dcf-sublabel">Buy below for 15% annual return</div>
            </div>
            <div class="dcf-card">
                <div class="dcf-label">Current Price</div>
                <div class="dcf-value" id="dcfCurrent">$88.00</div>
            </div>
            <div class="dcf-card">
                <div class="dcf-label">Prob-Weighted IV</div>
                <div class="dcf-value" id="dcfWeighted">$114.06</div>
                <div class="dcf-sublabel">20% Bull / 55% Base / 25% Bear</div>
            </div>
        </div>

        <!-- Growth Rate Warning -->
        <div class="dcf-warning" id="growthWarning">
            <span class="warning-icon">⚠</span>
            <span id="warningText">FCF severely compressed by heavy AI/cloud capex ($53B+ over 3 years). Recent 3-year equity CAGR of 2.3% reflects e-commerce margin pressure. Selected 5% base growth blends equity CAGR (conservative) with revenue trends, adjusting for investment cycle normalization.</span>
        </div>

        <!-- Interactive Sliders -->
        <div class="dcf-controls">
            <div class="slider-group">
                <label>Growth Rate: <span id="growthValue">12%</span></label>
                <input type="range" id="growthSlider" min="0" max="25" value="12" step="1">
                <div class="slider-hint" id="growthHint">Year 1 projection growth rate</div>
            </div>
            <div class="slider-group">
                <label>WACC: <span id="waccValue">11.5%</span></label>
                <input type="range" id="waccSlider" min="8" max="16" value="11.5" step="0.5">
            </div>
            <div class="slider-group">
                <label>Terminal Growth: <span id="terminalValue">3.0%</span></label>
                <input type="range" id="terminalSlider" min="1" max="5" value="3.0" step="0.5">
            </div>
        </div>

        <!-- Scenario Tabs -->
        <div class="scenario-tabs">
            <button class="scenario-tab active" data-scenario="base" onclick="switchScenario('base')">Base Case</button>
            <button class="scenario-tab" data-scenario="bull" onclick="switchScenario('bull')">Bull Case</button>
            <button class="scenario-tab" data-scenario="bear" onclick="switchScenario('bear')">Bear Case</button>
        </div>

        <!-- Scenario Details -->
        <div class="scenario-details" id="scenarioDetails">
            <div class="scenario-assumptions">
                <h4>Assumptions</h4>
                <div class="assumption-grid" id="assumptionGrid"></div>
            </div>
            <div style="margin-top: 15px; padding: 15px; background: rgba(255,255,255,0.02); border-radius: 8px;">
                <p style="font-size: 0.9rem; line-height: 1.6; color: #b0b0b0;" id="scenarioRationale"></p>
            </div>
        </div>

        <!-- Sensitivity Table -->
        <div class="sensitivity-section">
            <h4>Sensitivity Analysis: Intrinsic Value by WACC & Terminal Growth ($ USD)</h4>
            <table class="sensitivity-table" id="sensitivityMatrix"></table>
        </div>

        <!-- Historical Growth Rates -->
        <div class="historical-growth">
            <h4>Historical Growth Rates (CAGR)</h4>
            <div class="growth-grid" id="growthGrid"></div>
        </div>

        <!-- Download Button -->
        <div class="dcf-download">
            <a href="BABA_DCF_Model.xlsx" class="download-btn" download>
                <span class="download-icon">⬇</span> Download Excel Model
            </a>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle"></h3>
                <button class="modal-close" onclick="closeModal()">×</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script>
        // EMBEDDED DATA - CSV
        const csvData = `Period,Revenue_RMB_Mn,GrossProfit_RMB_Mn,GrossMargin_Pct,OperatingIncome_RMB_Mn,NetIncome_RMB_Mn,EPS_Diluted_RMB,EPS_ADS_Diluted_USD,FreeCashFlow_RMB_Mn,OperatingCashFlow_RMB_Mn,AdjustedEBITA_RMB_Mn,AdjustedEBITDA_RMB_Mn,ShareholdersEquity_RMB_Mn,TotalAssets_RMB_Mn,TotalLiabilities_RMB_Mn,TotalDebt_RMB_Mn,CashAndEquivalents_RMB_Mn,SharesOutstanding_Mn,TaobaoTmall_Revenue_RMB_Mn,Cloud_Revenue_RMB_Mn,International_Revenue_RMB_Mn,Logistics_Revenue_RMB_Mn
FY2017,158273,72284,45.7,41731,41226,1.94,15.49,59660,79831,65636,76838,566578,621740,151161,65994,143281,25922,127871,6663,14591,0
FY2018,250266,117645,47.0,50358,61412,2.78,22.24,92583,117871,82506,98336,700536,765641,134689,74421,199307,25762,199931,13390,21433,0
FY2019,376844,172583,45.8,51070,87600,3.89,31.08,95005,150449,102616,128130,812553,888595,149432,90175,189976,25713,258238,24700,34450,0
FY2020,509711,237028,46.5,71469,140350,6.28,50.21,130910,181018,150310,178391,937470,1690218,606584,149657,328914,25962,379172,40016,51902,47286
FY2021,717289,338870,47.2,89678,143284,6.69,53.55,172663,232332,171947,196883,937470,1690218,606584,186847,472109,21408,429930,102016,62185,66808
FY2022,853062,313612,36.8,69638,47079,2.84,22.74,98874,142759,130397,157256,948479,1695553,613360,201747,501721,21828,429930,102016,62185,66808
FY2023,868687,318992,36.7,100351,65573,3.43,27.46,171663,199752,147911,175710,989657,1753044,630123,191521,489867,20979,413206,103497,70506,77512
FY2024,941168,354845,37.7,113350,71332,3.91,31.24,156210,182593,165028,191668,986544,1764829,652230,215149,510626,20182,434893,106374,102598,99020
FY2025,996347,398062,39.9,140905,125976,6.70,53.59,73870,163509,173065,202325,1009858,1804227,714121,230413,468217,18791,449827,118028,132300,101272
Q1 FY2024,234156,92014,39.3,42466,34332,1.69,13.50,34333,49947,45352,52376,,,,,,,106750,25124,22073,22776
Q2 FY2024,224790,87988,39.1,26880,26696,1.35,10.84,27893,35870,36250,43188,,,,,,,108143,27611,24549,24630
Q3 FY2024,260348,99673,38.3,47995,14433,0.73,5.83,56854,74269,52839,61063,,,,,,,111082,28066,27934,28486
Q4 FY2024,221874,75170,33.9,-3991,-4129,-0.21,-1.68,37130,22507,30587,35041,,,,,,,109418,25573,28042,23128
Q1 FY2025,243236,95481,39.3,34985,24022,1.31,10.44,27413,41380,41328,49071,,,,,,,113340,26549,26591,24521
Q2 FY2025,236503,93121,39.4,35018,43874,2.40,19.22,32413,42789,41973,49667,,,,,,,108190,27611,31672,25750
Q3 FY2025,280154,114378,40.8,40801,48945,2.73,21.83,25587,46561,48217,56508,,,,,,,114660,30654,33614,25802
Q4 FY2025,236454,95082,40.2,30101,9135,0.50,4.00,-11543,32779,41547,47079,,,,,,,113637,33214,40423,25199
Q1 FY2026,243238,98283,40.4,38086,24018,1.36,10.87,28573,49632,47306,54946,,,,,,,117653,33451,33137,24929
Q2 FY2026,236495,96102,40.6,31892,43521,2.48,19.82,15871,30994,37964,45668,,,,,,,118997,39824,34799,25643`;

        // EMBEDDED DATA - Analysis JSON
        const analysis = {
            "ticker": "BABA",
            "company_name": "Alibaba Group Holding Limited",
            "guidance": {
                "as_of": "Q2 FY2026 Results (November 2025)",
                "fiscal_year": "FY2026 (ending March 2026)",
                "items": [
                    {
                        "metric": "Revenue Growth",
                        "target": "Mid-to-high single digit revenue growth implied",
                        "period": "FY2026",
                        "vs_prior": "maintained",
                        "notes": "Q2 FY2026 revenue grew 5% YoY to RMB 247.8B (excluding divested Sun Art/Intime: 15% growth). Consensus forecasts 8.4% annual revenue growth"
                    },
                    {
                        "metric": "Cloud Revenue Growth",
                        "target": "30%+ YoY growth trajectory",
                        "period": "FY2026",
                        "vs_prior": "accelerating",
                        "notes": "Cloud Intelligence revenue grew 34% in Q2 FY2026 (29% excluding internal), accelerating from prior quarters. AI-related products sustaining triple-digit growth"
                    },
                    {
                        "metric": "International Commerce Profitability",
                        "target": "Achieve quarterly profitability",
                        "period": "Within FY2026",
                        "vs_prior": "improved",
                        "notes": "AIDC posted RMB 162M adjusted EBITA profit in Q2 (vs RMB 2.9B loss prior year). Management confident in quarterly profitability during FY2026"
                    },
                    {
                        "metric": "Capital Expenditure",
                        "target": "RMB 380 billion ($53B) over 3 years for AI + Cloud infrastructure",
                        "period": "FY2025-FY2027",
                        "vs_prior": "increased",
                        "notes": "RMB 120B deployed in past year. CEO Eddie Wu suggested $53B 'might be on the small side' given AI demand exceeding supply. Represents more than prior decade's total investment"
                    },
                    {
                        "metric": "E-commerce Margins",
                        "target": "No specific guidance; investing for growth",
                        "period": "FY2026",
                        "vs_prior": "declining",
                        "notes": "China E-commerce adjusted EBITA down 76% YoY in Q2 due to quick commerce expansion. Management prioritizing scale and user experience over near-term profitability"
                    },
                    {
                        "metric": "Share Buybacks",
                        "target": "$19.1 billion remaining authorization",
                        "period": "Through March 2027",
                        "vs_prior": "maintained",
                        "notes": "Repurchased $11.9B in FY2025 (5.1% share count reduction). Continuing opportunistic buybacks while funding AI investments"
                    }
                ],
                "management_commentary": "CEO Eddie Wu emphasized fiscal 2025 marked 'solid progress' on 'user first, AI-driven' strategy. AI represents 'historic opportunities' and will be 'primary driver of incremental value over next decade.' Management committed to aggressive AI infrastructure investment with 'startup mindset' to capture AI era opportunities. CFO noted e-commerce customer management revenue up 10% with improving user engagement. Cloud momentum driven by 'surging AI demand' with accelerating public cloud growth. International commerce unit economics improving substantially, particularly AliExpress Choice. Quick commerce achieved critical mass scale with improving unit economics since September 2025. Chairman Joe Tsai stated 'creation, not preservation, is in Alibaba's DNA' as company embarks on new AI era chapter."
            }
        };

        // EMBEDDED DATA - DCF JSON
        const dcfData = {
            "ticker": "BABA",
            "valuation_date": "2026-01-21",
            "current_price": 88.00,
            "inputs": {
                "shares_outstanding": 18791,
                "net_debt": -237804,
                "last_fcf": 73870,
                "currency": "RMB",
                "units": "millions"
            },
            "historical_growth": {
                "revenue_3yr_cagr": 5.3,
                "revenue_5yr_cagr": 14.4,
                "eps_3yr_cagr": -2.1,
                "eps_5yr_cagr": 1.3,
                "equity_3yr_cagr": 2.3,
                "equity_5yr_cagr": 3.8,
                "fcf_3yr_cagr": -27.3,
                "fcf_5yr_cagr": -11.6,
                "selected_growth_rate": 5.0,
                "growth_rate_source": "blended_conservative",
                "growth_divergence_warning": "FCF severely compressed by heavy AI/cloud capex ($53B+ over 3 years). Recent 3-year equity CAGR of 2.3% reflects e-commerce margin pressure. Selected 5% base growth blends equity CAGR (conservative) with revenue trends, adjusting for investment cycle normalization."
            },
            "assumptions": {
                "base": {
                    "growth_rates": [12, 10, 8, 6, 5],
                    "fcf_margin": 10.5,
                    "wacc": 11.5,
                    "terminal_growth": 3.0,
                    "rationale": "Base case assumes gradual FCF recovery as AI capex moderates after 3-year buildout. Growth reflects cloud acceleration (30%+ segment growth) offset by mature China e-commerce. WACC elevated for China risk premium (400bp) + regulatory/geopolitical risks. FCF margin improves from FY2025's 7.4% as capex efficiency gains materialize and e-commerce margins stabilize."
                },
                "bull": {
                    "growth_rates": [18, 16, 14, 12, 10],
                    "fcf_margin": 13.5,
                    "wacc": 10.0,
                    "terminal_growth": 3.5,
                    "rationale": "Bull case: AI + Cloud 'second growth curve' fully materializes with sustained 30-40% cloud growth. E-commerce margin compression reverses as quick commerce achieves profitability and subsidy wars moderate. International commerce (AIDC) reaches sustained profitability adding margin expansion. China consumption recovery drives GMV acceleration. Regulatory overhang diminishes. Lower WACC reflects reduced geopolitical risk. FCF margins expand to historical levels (15-18% range in FY2020-2023)."
                },
                "bear": {
                    "growth_rates": [5, 3, 2, 2, 2],
                    "fcf_margin": 7.0,
                    "wacc": 14.0,
                    "terminal_growth": 2.0,
                    "rationale": "Bear case: E-commerce margin collapse structural, not cyclical. Quick commerce subsidy wars continue indefinitely. AI capex yields insufficient ROI as cloud commoditizes. Market share losses to Pinduoddo/Douyin/Meituan accelerate. China macro deterioration worsens. Geopolitical risks escalate (ADR delisting, tariffs, VIE structure challenges). Higher WACC reflects extreme geopolitical/regulatory risk. FCF remains depressed by ongoing heavy capex and working capital deterioration."
                }
            },
            "valuation": {
                "base": {
                    "intrinsic_value": 106.73,
                    "upside": 21.3
                },
                "bull": {
                    "intrinsic_value": 215.47,
                    "upside": 144.9
                },
                "bear": {
                    "intrinsic_value": 49.63,
                    "upside": -43.6
                }
            },
            "entry_price": {
                "base": {
                    "entry_price": 54.70
                },
                "bull": {
                    "entry_price": 125.07
                },
                "bear": {
                    "entry_price": 19.46
                }
            },
            "sensitivity": {
                "wacc_range": [9.5, 10.5, 11.5, 12.5, 13.5],
                "terminal_growth_range": [2.0, 2.5, 3.0, 3.5, 4.0],
                "matrix": [
                    [147.93, 161.77, 178.91, 201.00, 230.56],
                    [125.59, 135.01, 146.63, 161.22, 180.02],
                    [108.83, 115.65, 123.80, 133.77, 146.26],
                    [95.78, 100.84, 106.73, 113.79, 122.28],
                    [85.36, 89.09, 93.35, 98.26, 103.99]
                ]
            },
            "probability_weighted": {
                "weights": {
                    "bull": 0.20,
                    "base": 0.55,
                    "bear": 0.25
                },
                "weighted_iv": 114.06
            }
        };

        // Parse CSV
        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(',');
            return lines.slice(1).map(line => {
                const values = line.split(',');
                const obj = {};
                headers.forEach((h, i) => obj[h.trim()] = values[i]?.trim());
                return obj;
            });
        }

        const data = parseCSV(csvData);

        // Helper functions
        function formatNumber(num, decimals = 0) {
            if (!num || isNaN(num)) return 'N/A';
            return Number(num).toLocaleString('en-US', { maximumFractionDigits: decimals });
        }

        function formatBillions(num, decimals = 1) {
            if (!num || isNaN(num)) return 'N/A';
            return (Number(num) / 1000).toFixed(decimals) + 'B';
        }

        function calcYoYChange(current, previous) {
            if (!previous || !current || previous === '0' || current === '0') return null;
            return ((parseFloat(current) - parseFloat(previous)) / Math.abs(parseFloat(previous)) * 100).toFixed(1);
        }

        // Toggle overview
        function toggleOverview() {
            const btn = document.querySelector('.overview-toggle');
            const content = document.getElementById('overviewContent');
            btn.classList.toggle('active');
            content.classList.toggle('active');
        }

        // Render KPI Cards
        function renderKPIs() {
            const annual = data.filter(d => d.Period.startsWith('FY'));
            const latest = annual[annual.length - 1];
            const previous = annual[annual.length - 2];

            const kpis = [
                {
                    label: 'Revenue',
                    value: '¥' + formatBillions(latest.Revenue_RMB_Mn),
                    change: calcYoYChange(latest.Revenue_RMB_Mn, previous.Revenue_RMB_Mn)
                },
                {
                    label: 'Net Income',
                    value: '¥' + formatBillions(latest.NetIncome_RMB_Mn),
                    change: calcYoYChange(latest.NetIncome_RMB_Mn, previous.NetIncome_RMB_Mn)
                },
                {
                    label: 'EPS (Diluted ADS)',
                    value: '$' + parseFloat(latest.EPS_ADS_Diluted_USD).toFixed(2),
                    change: calcYoYChange(latest.EPS_ADS_Diluted_USD, previous.EPS_ADS_Diluted_USD)
                },
                {
                    label: 'Free Cash Flow',
                    value: '¥' + formatBillions(latest.FreeCashFlow_RMB_Mn),
                    change: calcYoYChange(latest.FreeCashFlow_RMB_Mn, previous.FreeCashFlow_RMB_Mn)
                },
                {
                    label: 'Adjusted EBITA',
                    value: '¥' + formatBillions(latest.AdjustedEBITA_RMB_Mn),
                    change: calcYoYChange(latest.AdjustedEBITA_RMB_Mn, previous.AdjustedEBITA_RMB_Mn)
                },
                {
                    label: 'Cloud Revenue',
                    value: '¥' + formatBillions(latest.Cloud_Revenue_RMB_Mn),
                    change: calcYoYChange(latest.Cloud_Revenue_RMB_Mn, previous.Cloud_Revenue_RMB_Mn)
                },
                {
                    label: 'Gross Margin',
                    value: parseFloat(latest.GrossMargin_Pct).toFixed(1) + '%',
                    change: (parseFloat(latest.GrossMargin_Pct) - parseFloat(previous.GrossMargin_Pct)).toFixed(1)
                },
                {
                    label: 'Shareholders\' Equity',
                    value: '¥' + formatBillions(latest.ShareholdersEquity_RMB_Mn),
                    change: calcYoYChange(latest.ShareholdersEquity_RMB_Mn, previous.ShareholdersEquity_RMB_Mn)
                }
            ];

            const grid = document.getElementById('kpiGrid');
            grid.innerHTML = kpis.map(kpi => {
                const changeClass = kpi.change > 0 ? 'positive' : kpi.change < 0 ? 'negative' : '';
                const changeText = kpi.change !== null ? `${kpi.change > 0 ? '+' : ''}${kpi.change}% YoY` : '';
                return `
                    <div class="kpi-card">
                        <div class="kpi-value">${kpi.value}</div>
                        <div class="kpi-label">${kpi.label}</div>
                        ${changeText ? `<div class="kpi-change ${changeClass}">${changeText}</div>` : ''}
                    </div>
                `;
            }).join('');
        }

        // Render Guidance
        function renderGuidance() {
            if (!analysis.guidance || !analysis.guidance.items || analysis.guidance.items.length === 0) {
                document.getElementById('guidanceSection').style.display = 'none';
                return;
            }

            const guidance = analysis.guidance;
            document.getElementById('guidanceAsOf').textContent = guidance.as_of || '';
            document.getElementById('guidanceFY').textContent = guidance.fiscal_year || '';

            const grid = document.getElementById('guidanceGrid');
            grid.innerHTML = guidance.items.map(item => {
                const vsClass = item.vs_prior ? item.vs_prior.toLowerCase().replace(/\s+/g, '-') : 'new';
                const vsLabel = item.vs_prior ? item.vs_prior.charAt(0).toUpperCase() + item.vs_prior.slice(1) : 'New';
                return `
                    <div class="guidance-card">
                        <div class="guidance-metric">${item.metric}</div>
                        <div class="guidance-target">${item.target}</div>
                        <div class="guidance-period">${item.period}</div>
                        <span class="guidance-vs-prior ${vsClass}">${vsLabel}</span>
                        ${item.notes ? `<div class="guidance-notes">${item.notes}</div>` : ''}
                    </div>
                `;
            }).join('');

            const commentary = document.getElementById('guidanceCommentary');
            if (guidance.management_commentary) {
                commentary.textContent = guidance.management_commentary;
                commentary.style.display = 'block';
            } else {
                commentary.style.display = 'none';
            }
        }

        // Chart defaults
        const chartDefaults = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { labels: { color: '#e0e0e0', font: { size: 11 } } }
            },
            scales: {
                x: { ticks: { color: '#888' }, grid: { color: 'rgba(255,255,255,0.05)' } },
                y: { ticks: { color: '#888' }, grid: { color: 'rgba(255,255,255,0.05)' } }
            }
        };

        const colors = {
            primary: '#ff6a00',
            secondary: '#ee0a24',
            tertiary: '#0984e3',
            quaternary: '#6c5ce7',
            cloud: '#00d4aa',
            danger: '#ff6b6b'
        };

        // Render Charts
        function renderCharts() {
            const annual = data.filter(d => d.Period.startsWith('FY'));
            const quarterly = data.filter(d => d.Period.startsWith('Q'));

            // Revenue Chart
            new Chart(document.getElementById('revenueChart'), {
                type: 'bar',
                data: {
                    labels: annual.map(d => d.Period),
                    datasets: [{
                        label: 'Revenue (RMB Billions)',
                        data: annual.map(d => d.Revenue_RMB_Mn / 1000),
                        backgroundColor: colors.primary,
                        borderColor: colors.secondary,
                        borderWidth: 1
                    }]
                },
                options: chartDefaults
            });

            // Profitability Chart
            new Chart(document.getElementById('profitabilityChart'), {
                type: 'line',
                data: {
                    labels: annual.map(d => d.Period),
                    datasets: [
                        {
                            label: 'Net Income (¥B)',
                            data: annual.map(d => d.NetIncome_RMB_Mn / 1000),
                            borderColor: colors.primary,
                            backgroundColor: 'rgba(255, 106, 0, 0.1)',
                            tension: 0.3
                        },
                        {
                            label: 'Operating Income (¥B)',
                            data: annual.map(d => d.OperatingIncome_RMB_Mn / 1000),
                            borderColor: colors.tertiary,
                            backgroundColor: 'rgba(9, 132, 227, 0.1)',
                            tension: 0.3
                        }
                    ]
                },
                options: chartDefaults
            });

            // FCF Chart
            new Chart(document.getElementById('fcfChart'), {
                type: 'bar',
                data: {
                    labels: annual.map(d => d.Period),
                    datasets: [{
                        label: 'Free Cash Flow (¥B)',
                        data: annual.map(d => d.FreeCashFlow_RMB_Mn / 1000),
                        backgroundColor: colors.cloud,
                        borderColor: colors.cloud,
                        borderWidth: 1
                    }]
                },
                options: chartDefaults
            });

            // EPS Chart
            new Chart(document.getElementById('epsChart'), {
                type: 'line',
                data: {
                    labels: annual.map(d => d.Period),
                    datasets: [{
                        label: 'EPS (Diluted ADS, USD)',
                        data: annual.map(d => d.EPS_ADS_Diluted_USD),
                        borderColor: colors.primary,
                        backgroundColor: 'rgba(255, 106, 0, 0.2)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: chartDefaults
            });

            // Segment Chart (FY2025)
            const latest = annual[annual.length - 1];
            new Chart(document.getElementById('segmentChart'), {
                type: 'doughnut',
                data: {
                    labels: ['Taobao & Tmall', 'Cloud', 'International', 'Logistics'],
                    datasets: [{
                        data: [
                            latest.TaobaoTmall_Revenue_RMB_Mn / 1000,
                            latest.Cloud_Revenue_RMB_Mn / 1000,
                            latest.International_Revenue_RMB_Mn / 1000,
                            latest.Logistics_Revenue_RMB_Mn / 1000
                        ],
                        backgroundColor: [colors.primary, colors.cloud, colors.tertiary, colors.quaternary]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: '#e0e0e0' } }
                    }
                }
            });

            // Cloud Revenue Chart
            new Chart(document.getElementById('cloudChart'), {
                type: 'bar',
                data: {
                    labels: annual.map(d => d.Period),
                    datasets: [{
                        label: 'Cloud Revenue (¥B)',
                        data: annual.map(d => d.Cloud_Revenue_RMB_Mn / 1000),
                        backgroundColor: colors.cloud,
                        borderColor: colors.cloud
                    }]
                },
                options: chartDefaults
            });

            // Taobao & Tmall Chart
            new Chart(document.getElementById('taobaoChart'), {
                type: 'bar',
                data: {
                    labels: annual.map(d => d.Period),
                    datasets: [{
                        label: 'Taobao & Tmall Revenue (¥B)',
                        data: annual.map(d => d.TaobaoTmall_Revenue_RMB_Mn / 1000),
                        backgroundColor: colors.primary,
                        borderColor: colors.secondary
                    }]
                },
                options: chartDefaults
            });

            // International Chart
            new Chart(document.getElementById('internationalChart'), {
                type: 'bar',
                data: {
                    labels: annual.map(d => d.Period),
                    datasets: [{
                        label: 'International Commerce (¥B)',
                        data: annual.map(d => d.International_Revenue_RMB_Mn / 1000),
                        backgroundColor: colors.tertiary,
                        borderColor: colors.tertiary
                    }]
                },
                options: chartDefaults
            });

            // Gross Margin Chart
            new Chart(document.getElementById('marginChart'), {
                type: 'line',
                data: {
                    labels: annual.map(d => d.Period),
                    datasets: [{
                        label: 'Gross Margin (%)',
                        data: annual.map(d => d.GrossMargin_Pct),
                        borderColor: colors.primary,
                        backgroundColor: 'rgba(255, 106, 0, 0.1)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: chartDefaults
            });

            // Adjusted EBITA Chart
            new Chart(document.getElementById('ebitaChart'), {
                type: 'bar',
                data: {
                    labels: annual.map(d => d.Period),
                    datasets: [{
                        label: 'Adjusted EBITA (¥B)',
                        data: annual.map(d => d.AdjustedEBITA_RMB_Mn / 1000),
                        backgroundColor: colors.quaternary,
                        borderColor: colors.quaternary
                    }]
                },
                options: chartDefaults
            });

            // Quarterly Revenue Chart
            new Chart(document.getElementById('quarterlyRevenueChart'), {
                type: 'bar',
                data: {
                    labels: quarterly.map(d => d.Period),
                    datasets: [{
                        label: 'Quarterly Revenue (¥B)',
                        data: quarterly.map(d => d.Revenue_RMB_Mn / 1000),
                        backgroundColor: colors.primary
                    }]
                },
                options: chartDefaults
            });

            // Quarterly EPS Chart
            new Chart(document.getElementById('quarterlyEpsChart'), {
                type: 'line',
                data: {
                    labels: quarterly.map(d => d.Period),
                    datasets: [{
                        label: 'Quarterly EPS (USD)',
                        data: quarterly.map(d => d.EPS_ADS_Diluted_USD),
                        borderColor: colors.primary,
                        backgroundColor: 'rgba(255, 106, 0, 0.1)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: chartDefaults
            });
        }

        // DCF Functions
        let currentScenario = 'base';

        function initDCF() {
            if (!dcfData || !dcfData.valuation) return;

            document.getElementById('dcfCurrent').textContent = '$' + dcfData.current_price.toFixed(2);

            if (dcfData.historical_growth.growth_divergence_warning) {
                document.getElementById('growthWarning').style.display = 'flex';
                document.getElementById('warningText').textContent = dcfData.historical_growth.growth_divergence_warning;
            }

            const base = dcfData.assumptions.base;
            document.getElementById('growthSlider').value = base.growth_rates[0];
            document.getElementById('waccSlider').value = base.wacc;
            document.getElementById('terminalSlider').value = base.terminal_growth;

            document.getElementById('growthValue').textContent = base.growth_rates[0] + '%';
            document.getElementById('waccValue').textContent = base.wacc + '%';
            document.getElementById('terminalValue').textContent = base.terminal_growth + '%';

            renderHistoricalGrowth();
            renderSensitivityMatrix();
            updateDCFDisplay();
            switchScenario('base');
        }

        // Conversion constants: 1 ADS = 8 ordinary shares, RMB/USD ~7.26
        const ADS_RATIO = 8;
        const RMB_TO_USD = 7.26;

        function calculateDCF(growthRate, wacc, terminalGrowth) {
            const years = 5;
            const lastRevenue = 996347; // FY2025 revenue (RMB millions)
            let pvFCF = 0;
            let projectedRevenue = lastRevenue;
            const fcfMargin = dcfData.assumptions.base.fcf_margin / 100;

            for (let i = 0; i < years; i++) {
                projectedRevenue *= (1 + growthRate / 100);
                const fcf = projectedRevenue * fcfMargin;
                pvFCF += fcf / Math.pow(1 + wacc/100, i + 1);
            }

            const terminalFCF = projectedRevenue * fcfMargin * (1 + terminalGrowth/100);
            const terminalValue = terminalFCF / (wacc/100 - terminalGrowth/100);
            const pvTerminal = terminalValue / Math.pow(1 + wacc/100, years);

            const enterpriseValue = pvFCF + pvTerminal;
            const equityValue = enterpriseValue - dcfData.inputs.net_debt;
            // Convert from RMB per ordinary share to USD per ADS
            const ivRmb = equityValue / dcfData.inputs.shares_outstanding;
            const iv = ivRmb * ADS_RATIO / RMB_TO_USD;

            const terminalPerShareRmb = terminalValue / dcfData.inputs.shares_outstanding;
            const terminalPerShare = terminalPerShareRmb * ADS_RATIO / RMB_TO_USD;
            const entryPrice = terminalPerShare / Math.pow(1.15, years);

            return { iv, entryPrice, terminalPerShare, pvFCF, pvTerminal, enterpriseValue };
        }

        window.updateDCFDisplay = function() {
            const growth = parseFloat(document.getElementById('growthSlider').value);
            const wacc = parseFloat(document.getElementById('waccSlider').value);
            const terminal = parseFloat(document.getElementById('terminalSlider').value);

            document.getElementById('growthValue').textContent = growth + '%';
            document.getElementById('waccValue').textContent = wacc + '%';
            document.getElementById('terminalValue').textContent = terminal + '%';

            const result = calculateDCF(growth, wacc, terminal);

            document.getElementById('dcfIV').textContent = '$' + result.iv.toFixed(2);
            document.getElementById('dcfEntry').textContent = '$' + result.entryPrice.toFixed(2);

            const upside = ((result.iv - dcfData.current_price) / dcfData.current_price * 100);
            const upsideEl = document.getElementById('dcfUpside');
            upsideEl.textContent = (upside >= 0 ? '+' : '') + upside.toFixed(0) + '% ' + (upside >= 0 ? 'upside' : 'downside');
            upsideEl.className = 'dcf-change ' + (upside >= 0 ? 'positive' : 'negative');

            document.getElementById('dcfWeighted').textContent = '$' + dcfData.probability_weighted.weighted_iv.toFixed(2);

            const grid = document.getElementById('assumptionGrid');
            if (grid) {
                grid.innerHTML = `
                    <div class="assumption-item">
                        <div class="label">Growth Rate</div>
                        <div class="value">${growth}%</div>
                    </div>
                    <div class="assumption-item">
                        <div class="label">WACC</div>
                        <div class="value">${wacc}%</div>
                    </div>
                    <div class="assumption-item">
                        <div class="label">Terminal Growth</div>
                        <div class="value">${terminal}%</div>
                    </div>
                    <div class="assumption-item">
                        <div class="label">Intrinsic Value</div>
                        <div class="value" style="color: #ff6a00;">$${result.iv.toFixed(2)}</div>
                    </div>
                    <div class="assumption-item">
                        <div class="label">Entry Price</div>
                        <div class="value" style="color: #ff6a00;">$${result.entryPrice.toFixed(2)}</div>
                    </div>
                `;
            }
        };

        window.switchScenario = function(scenario) {
            currentScenario = scenario;

            document.querySelectorAll('.scenario-tab').forEach(tab => {
                tab.classList.toggle('active', tab.dataset.scenario === scenario);
            });

            const assumptions = dcfData.assumptions[scenario];
            const valuation = dcfData.valuation[scenario];
            const entry = dcfData.entry_price[scenario];

            document.getElementById('growthSlider').value = assumptions.growth_rates[0];
            document.getElementById('waccSlider').value = assumptions.wacc;
            document.getElementById('terminalSlider').value = assumptions.terminal_growth;

            const grid = document.getElementById('assumptionGrid');
            grid.innerHTML = `
                <div class="assumption-item">
                    <div class="label">Year 1 Growth</div>
                    <div class="value">${assumptions.growth_rates[0]}%</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Year 5 Growth</div>
                    <div class="value">${assumptions.growth_rates[4]}%</div>
                </div>
                <div class="assumption-item">
                    <div class="label">FCF Margin</div>
                    <div class="value">${assumptions.fcf_margin}%</div>
                </div>
                <div class="assumption-item">
                    <div class="label">WACC</div>
                    <div class="value">${assumptions.wacc}%</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Terminal Growth</div>
                    <div class="value">${assumptions.terminal_growth}%</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Intrinsic Value</div>
                    <div class="value" style="color: #ff6a00;">$${valuation.intrinsic_value.toFixed(2)}</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Entry Price</div>
                    <div class="value" style="color: #ff6a00;">$${entry.entry_price.toFixed(2)}</div>
                </div>
                <div class="assumption-item">
                    <div class="label">Upside</div>
                    <div class="value" style="color: ${valuation.upside >= 0 ? '#00d4aa' : '#ff6b6b'};">${valuation.upside >= 0 ? '+' : ''}${valuation.upside.toFixed(1)}%</div>
                </div>
            `;

            document.getElementById('scenarioRationale').textContent = assumptions.rationale;

            updateDCFDisplay();
        };

        function renderHistoricalGrowth() {
            const growth = dcfData.historical_growth;
            const selectedSource = growth.growth_rate_source;
            const grid = document.getElementById('growthGrid');

            const metrics = [
                { key: 'revenue_3yr_cagr', label: 'Revenue 3Y' },
                { key: 'revenue_5yr_cagr', label: 'Revenue 5Y' },
                { key: 'eps_3yr_cagr', label: 'EPS 3Y' },
                { key: 'eps_5yr_cagr', label: 'EPS 5Y' },
                { key: 'equity_3yr_cagr', label: 'Equity 3Y' },
                { key: 'equity_5yr_cagr', label: 'Equity 5Y' },
                { key: 'fcf_3yr_cagr', label: 'FCF 3Y' },
                { key: 'fcf_5yr_cagr', label: 'FCF 5Y' }
            ];

            grid.innerHTML = metrics.map(m => {
                const rate = growth[m.key];
                const isSelected = m.key === selectedSource;
                const colorClass = rate >= 0 ? 'positive' : 'negative';
                return `
                    <div class="growth-item ${isSelected ? 'selected' : ''}">
                        <div class="metric">${m.label}</div>
                        <div class="rate ${colorClass}">${rate >= 0 ? '+' : ''}${rate.toFixed(1)}%</div>
                    </div>
                `;
            }).join('');
        }

        function renderSensitivityMatrix() {
            const sens = dcfData.sensitivity;
            const table = document.getElementById('sensitivityMatrix');
            const currentPrice = dcfData.current_price;

            let html = '<tr><th>WACC \\ Term G</th>';
            sens.terminal_growth_range.forEach(tg => {
                html += `<th>${tg}%</th>`;
            });
            html += '</tr>';

            sens.wacc_range.forEach((wacc, i) => {
                html += `<tr><th>${wacc}%</th>`;
                sens.matrix[i].forEach((val, j) => {
                    const isHighlight = wacc === dcfData.assumptions.base.wacc &&
                                       sens.terminal_growth_range[j] === dcfData.assumptions.base.terminal_growth;
                    const colorClass = val >= currentPrice ? 'above-current' : 'below-current';
                    html += `<td class="${isHighlight ? 'highlight' : colorClass}">$${val.toFixed(0)}</td>`;
                });
                html += '</tr>';
            });

            table.innerHTML = html;
        }

        // Modal Functions
        const metricDescriptions = {
            revenue: {
                title: "Revenue",
                content: `
                    <p><strong>Revenue</strong> is the total income from Alibaba's e-commerce platforms, cloud services, logistics, and other businesses.</p>
                    <div class="metric-highlight">
                        <strong>For Alibaba:</strong> Revenue comes primarily from customer management services (advertising on Taobao/Tmall), cloud infrastructure subscriptions, direct sales, logistics fees, and international commerce. The company generates approximately 40% from China e-commerce, 13% from cloud, and 12% from international operations.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Revenue growth excluding divested businesses (Sun Art, Intime) - management targets mid-to-high single digits</li>
                        <li>Cloud revenue acceleration (currently growing 30%+ YoY) as AI products scale</li>
                        <li>Customer management revenue (high-margin ads) growing 10%+ indicates healthy merchant activity</li>
                        <li>International commerce revenue growth 10-14% with path to profitability</li>
                    </ul>
                `
            },
            profitability: {
                title: "Net Income & Operating Income",
                content: `
                    <p><strong>Net Income</strong> is the bottom-line profit after all expenses, taxes, and adjustments. <strong>Operating Income</strong> measures profitability from core business operations before financing costs and taxes.</p>
                    <div class="metric-highlight">
                        <strong>For Alibaba:</strong> Profitability has been volatile due to heavy investments in quick commerce (instant delivery), AI/cloud infrastructure ($53B+ capex program), and competitive subsidies. Non-GAAP diluted EPS fell 71% YoY in Q2 FY2026 despite 5% revenue growth, reflecting investment phase.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>E-commerce adjusted EBITA margins - recently down 47-76% due to quick commerce subsidies</li>
                        <li>Path to quick commerce profitability with improving unit economics since September 2025</li>
                        <li>Cloud operating leverage - adjusted EBITA up 35% in Q2 FY2026 showing scale benefits</li>
                        <li>International commerce reaching sustained quarterly profitability (achieved Q2 FY2026)</li>
                        <li>Management balancing growth investments with shareholder returns ($11.9B buybacks in FY2025)</li>
                    </ul>
                `
            },
            fcf: {
                title: "Free Cash Flow",
                content: `
                    <p><strong>Free Cash Flow</strong> is operating cash flow minus capital expenditures. It represents cash available for shareholder returns, debt reduction, or additional investments.</p>
                    <div class="metric-highlight">
                        <strong>For Alibaba:</strong> FCF severely compressed in FY2025 (¥73.9B vs ¥156.2B in FY2024) due to record AI/cloud infrastructure capex. RMB 120 billion deployed in past year with CEO stating $53B three-year plan "might be on the small side." FCF margin fell to 7.4% from historical 10-18% range.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>FCF recovery path as AI capex moderates after 3-year buildout (base case: 10.5% margin)</li>
                        <li>Capex efficiency - whether AI infrastructure investments generate sufficient returns</li>
                        <li>Ability to sustain both heavy investments AND shareholder returns ($19.1B buyback authorization remaining)</li>
                        <li>Working capital trends - quick commerce expansion may pressure working capital</li>
                        <li>Bear case: FCF remains depressed at 7% margin if capex balloons or e-commerce deteriorates</li>
                    </ul>
                `
            },
            eps: {
                title: "EPS (Diluted ADS)",
                content: `
                    <p><strong>Earnings Per Share</strong> measures net income divided by shares outstanding. Alibaba reports EPS for American Depositary Shares (ADS), where 1 ADS = 8 ordinary shares.</p>
                    <div class="metric-highlight">
                        <strong>For Alibaba:</strong> EPS highly volatile due to investment cycle. FY2025 EPS was $53.59 (up 72% YoY), but Q2 FY2026 non-GAAP diluted EPS fell 71% YoY to $4.36 per ADS reflecting margin compression. Analyst consensus expects FY2027 EPS of $8.57, implying ~50% growth from current levels as investments moderate.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>EPS trajectory toward consensus FY2027 estimate of $8.57 (currently trading 17.7x forward)</li>
                        <li>Share buyback impact - 5.1% share reduction in FY2025 is highly accretive to EPS</li>
                        <li>Stock-based compensation as % of revenue - dilution factor for existing shareholders</li>
                        <li>Non-GAAP adjustments - ensure excluding one-time items, not core operational issues</li>
                        <li>Bull case: EPS recovers to $10-12+ if cloud monetizes and e-commerce margins stabilize</li>
                        <li>Bear case: EPS remains depressed if investments fail to generate returns</li>
                    </ul>
                `
            },
            segments: {
                title: "Segment Revenue Breakdown",
                content: `
                    <p>Alibaba operates multiple business segments with different growth profiles and profitability characteristics.</p>
                    <div class="metric-highlight">
                        <strong>Key Segments (FY2025):</strong>
                        <ul>
                            <li><strong>Taobao & Tmall (¥449.8B, 45%):</strong> China's largest e-commerce platforms. Customer management revenue (ads) growing 10%, but adjusted EBITA down 76% YoY in Q2 FY2026 due to quick commerce investments</li>
                            <li><strong>Cloud Intelligence (¥118.0B, 12%):</strong> AI + Cloud "second growth curve." Revenue accelerating to 34% growth with AI products at triple-digit growth for 8 consecutive quarters. Adjusted EBITA up 35%</li>
                            <li><strong>International Commerce (¥132.3B, 13%):</strong> AliExpress, Trendyol, Lazada growing 10-14%. Posted first adjusted EBITA profit (¥162M) in Q2 FY2026 after years of losses</li>
                            <li><strong>Cainiao Logistics (¥101.3B, 10%):</strong> Smart logistics supporting e-commerce ecosystem</li>
                        </ul>
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Cloud revenue acceleration sustainability - currently 30%+ growth driven by AI</li>
                        <li>E-commerce margin recovery from quick commerce subsidies</li>
                        <li>International commerce sustained profitability quarter-over-quarter</li>
                        <li>Cross-segment synergies (e-commerce + AI, cloud + logistics)</li>
                    </ul>
                `
            },
            cloud: {
                title: "Cloud Revenue Growth",
                content: `
                    <p><strong>Alibaba Cloud</strong> is designated as the company's "second growth curve" and is critical to the AI investment thesis.</p>
                    <div class="metric-highlight">
                        <strong>For Alibaba Cloud:</strong> Revenue accelerated to 34% YoY growth in Q2 FY2026 (29% excluding internal usage). AI-related products sustained triple-digit growth for 8 consecutive quarters and now represent 20%+ of external cloud revenue. Alibaba Cloud holds 35.8% of China's AI cloud market (largest) and is Asia Pacific's largest IaaS provider, though ranks 4th globally behind AWS, Azure, and Google Cloud.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>AI revenue growth sustainability - currently triple-digits but from smaller base</li>
                        <li>AI products as % of external revenue - should continue expanding from current 20%+</li>
                        <li>Operating leverage - adjusted EBITA margin expansion (up 35% in Q2 FY2026)</li>
                        <li>Public cloud vs internal usage growth - external growth more valuable</li>
                        <li>Qwen AI model adoption - 300M+ downloads, 180K+ derivative models drive ecosystem</li>
                        <li>Competitive positioning vs AWS, Azure, Google globally and vs Tencent, Huawei domestically</li>
                        <li>$53B+ capex efficiency - whether massive infrastructure investment generates ROI</li>
                    </ul>
                `
            },
            taobao: {
                title: "Taobao & Tmall Revenue",
                content: `
                    <p><strong>Taobao & Tmall</strong> are China's largest e-commerce platforms, representing the core of Alibaba's business with 1.1 billion+ consumers.</p>
                    <div class="metric-highlight">
                        <strong>For Taobao & Tmall:</strong> Revenue grew 12-16% in recent periods, but profitability severely impacted by quick commerce investments. Adjusted EBITA down 47-76% in recent quarters due to subsidies for instant delivery competing with Meituan. Customer management revenue (high-margin advertising) grew 10% showing resilient merchant demand. 88VIP premium members surpassed 56 million with strong retention, growing double-digits.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Quick commerce unit economics - onboarded 3,500+ Tmall brands, achieved 300M monthly users, improving since September 2025</li>
                        <li>Customer management revenue (CMR) growth and take rates - key profitability indicator</li>
                        <li>88VIP membership growth and ARPU expansion through cross-selling</li>
                        <li>GMV growth vs competitors (Pinduoduo, JD, Douyin) - market share defense</li>
                        <li>Path to subsidy rationalization - when will quick commerce achieve profitability?</li>
                        <li>Bear case: margin collapse structural if subsidy wars continue indefinitely</li>
                    </ul>
                `
            },
            international: {
                title: "International Commerce (AIDC)",
                content: `
                    <p><strong>Alibaba International Digital Commerce (AIDC)</strong> includes AliExpress, Trendyol (Turkey), Lazada (Southeast Asia), and cross-border wholesale (Alibaba.com).</p>
                    <div class="metric-highlight">
                        <strong>For AIDC:</strong> Revenue growing 10-14% annually. Posted first adjusted EBITA profit of ¥162M in Q2 FY2026 vs ¥2.9B loss prior year - a major inflection point after years of losses. Management confident in achieving sustained quarterly profitability within FY2026. AliExpress expanding 'AliExpressDirect' model to 30+ countries with local inventory. Trendyol leading in Turkey and expanding to Gulf region.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Sustained quarterly profitability - Q2 FY2026 was first profit, need consistency</li>
                        <li>Unit economics improvement across AliExpress, Trendyol, Lazada</li>
                        <li>Cross-border commerce sensitivity to US-China tariffs (AliExpress vulnerable)</li>
                        <li>Competitive dynamics vs Amazon, Shopee, local players in each market</li>
                        <li>AliExpressDirect local inventory model expansion and profitability</li>
                        <li>International profitability unlocks significant value - currently unprofitable segment</li>
                    </ul>
                `
            },
            margin: {
                title: "Gross Margin Trend",
                content: `
                    <p><strong>Gross Margin</strong> measures revenue minus cost of goods sold, showing profitability before operating expenses.</p>
                    <div class="metric-highlight">
                        <strong>For Alibaba:</strong> Gross margin declined from 47% peak in FY2021 to 37-40% range in recent periods. Decline driven by shift in revenue mix toward lower-margin direct sales (e-commerce products, logistics) vs high-margin customer management services (advertising). Recent improvement to 39.9% in FY2025 and 40%+ in recent quarters reflects revenue mix optimization.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Margin stabilization or expansion above 40% - indicates improving revenue mix</li>
                        <li>Customer management revenue growth (high-margin ads) vs direct sales/logistics</li>
                        <li>Cloud margin expansion as scale benefits and AI products mature</li>
                        <li>Impact of quick commerce on blended margins (lower margin instant delivery)</li>
                        <li>International commerce margins improving with profitability</li>
                    </ul>
                `
            },
            ebita: {
                title: "Adjusted EBITA",
                content: `
                    <p><strong>Adjusted EBITA</strong> (Earnings Before Interest, Tax, and Amortization, adjusted for one-time items) is Alibaba's primary operating profitability metric.</p>
                    <div class="metric-highlight">
                        <strong>For Alibaba:</strong> Adjusted EBITA grew strongly to ¥173B in FY2025, but segment-level trends diverge sharply. China e-commerce adjusted EBITA down 47-76% in recent quarters due to quick commerce subsidies. Cloud adjusted EBITA up 35% showing operating leverage. International commerce reached first profitability. Overall EBITA growth masks significant margin compression in core e-commerce.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>E-commerce segment EBITA recovery - currently down 76% YoY in Q2 FY2026</li>
                        <li>Cloud EBITA margin expansion trajectory - key to AI investment thesis</li>
                        <li>International commerce sustained profitability improvements</li>
                        <li>Overall EBITA margin vs revenue growth - operating leverage demonstration</li>
                        <li>Management's willingness to sacrifice near-term EBITA for long-term positioning in AI/quick commerce</li>
                        <li>Critical question: Is e-commerce margin compression cyclical (recoverable) or structural (permanent)?</li>
                    </ul>
                `
            },
            quarterly: {
                title: "Quarterly Revenue Trends",
                content: `
                    <p>Quarterly revenue shows seasonal patterns and recent trends more clearly than annual data.</p>
                    <div class="metric-highlight">
                        <strong>For Alibaba:</strong> Revenue exhibits strong Q3 seasonality (September-November) due to Singles Day 11.11 shopping festival. Q1 typically weakest due to Chinese New Year. Recent quarters show 5% reported growth (15% excluding Sun Art/Intime divestitures). Cloud accelerating to 34% growth while e-commerce growth moderates.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>Revenue growth excluding divested businesses (Sun Art, Intime) for true organic trends</li>
                        <li>Q3 Singles Day performance - bellwether for consumer health and competitive dynamics</li>
                        <li>Cloud segment revenue acceleration/deceleration quarter-over-quarter</li>
                        <li>International commerce sequential growth toward profitability</li>
                        <li>Quick commerce GMV and revenue contribution ramping</li>
                    </ul>
                `
            },
            qeps: {
                title: "Quarterly EPS Trends",
                content: `
                    <p>Quarterly EPS shows earnings volatility and near-term profitability trends.</p>
                    <div class="metric-highlight">
                        <strong>For Alibaba:</strong> Quarterly EPS highly volatile due to seasonality, one-time adjustments, and investment timing. Q2 FY2026 non-GAAP diluted EPS fell 71% YoY to $4.36 per ADS despite 5% revenue growth, reflecting severe margin compression from quick commerce subsidies and AI investments. Q4 periods often show losses or low EPS due to Singles Day costs and year-end investments.
                    </div>
                    <p><strong>What to watch:</strong></p>
                    <ul>
                        <li>EPS stabilization after investment-heavy quarters - when does profitability recover?</li>
                        <li>Progression toward consensus FY2027 EPS of $8.57 (50% increase required)</li>
                        <li>Quarterly EPS impact from share buybacks - 5.1% annual reduction is highly accretive</li>
                        <li>One-time adjustments vs core operational trends - differentiate noise from signal</li>
                        <li>Key question: Can Alibaba demonstrate operating leverage improvements in coming quarters to validate investment thesis?</li>
                    </ul>
                `
            }
        };

        function openModal(key) {
            document.getElementById('modalTitle').textContent = metricDescriptions[key].title;
            document.getElementById('modalBody').innerHTML = metricDescriptions[key].content;
            document.getElementById('modalOverlay').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(event) {
            if (event && event.target !== document.getElementById('modalOverlay') && !event.target.classList.contains('modal-close')) return;
            document.getElementById('modalOverlay').classList.remove('active');
            document.body.style.overflow = '';
        }

        document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

        // Initialize dashboard
        renderKPIs();
        renderGuidance();
        renderCharts();
        initDCF();

        // Bind slider events
        document.getElementById('growthSlider').oninput = updateDCFDisplay;
        document.getElementById('waccSlider').oninput = updateDCFDisplay;
        document.getElementById('terminalSlider').oninput = updateDCFDisplay;
    </script>
</body>
</html>
